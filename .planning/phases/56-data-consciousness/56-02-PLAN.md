---
phase: 56-data-consciousness
plan: 02
type: execute
wave: 2
depends_on: ["56-01"]
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateDataGovernance/Strategies/IntelligentGovernance/ValueScoringStrategies.cs
autonomous: true

must_haves:
  truths:
    - "Value scoring engine produces ValueScore (0-100) based on access frequency, lineage depth, uniqueness, freshness, business criticality"
    - "Each value dimension has a dedicated strategy that can score independently"
    - "Composite value scorer aggregates all dimension strategies with configurable weights"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateDataGovernance/Strategies/IntelligentGovernance/ValueScoringStrategies.cs"
      provides: "AccessFrequencyValueStrategy, LineageDepthValueStrategy, UniquenessValueStrategy, FreshnessValueStrategy, BusinessCriticalityValueStrategy, ComplianceValueStrategy, CompositeValueScoringStrategy"
      min_lines: 300
  key_links:
    - from: "ValueScoringStrategies.cs"
      to: "DataWarehouse.SDK.Contracts.Consciousness"
      via: "using directive + implements IValueScorer"
      pattern: "IValueScorer"
    - from: "CompositeValueScoringStrategy"
      to: "ConsciousnessStrategyBase"
      via: "inherits ConsciousnessStrategyBase"
      pattern: "class CompositeValueScoringStrategy : ConsciousnessStrategyBase"
---

<objective>
Implement the value scoring engine with 6 dimension strategies that assess how valuable a data object is to the organization.

Purpose: Value is half the consciousness equation. Without value scoring, the system cannot distinguish treasured data from digital debris. Each dimension strategy analyzes a specific aspect of value (how often accessed, how many things depend on it, whether duplicates exist, how fresh it is, business criticality, compliance importance).

Output: Single strategy file with 7 strategy classes (6 dimensions + 1 composite aggregator) in UltimateDataGovernance plugin.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/PLUGIN-CATALOG.md
@.planning/phases/56-data-consciousness/56-01-SUMMARY.md
@DataWarehouse.SDK/Contracts/Consciousness/ConsciousnessScore.cs
@DataWarehouse.SDK/Contracts/Consciousness/IConsciousnessScorer.cs
@DataWarehouse.SDK/Contracts/Consciousness/ConsciousnessStrategyBase.cs
@Plugins/DataWarehouse.Plugins.UltimateDataGovernance/DataGovernanceStrategyBase.cs
@Plugins/DataWarehouse.Plugins.UltimateDataGovernance/Strategies/IntelligentGovernance/IntelligentGovernanceStrategies.cs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Value dimension scoring strategies</name>
  <files>Plugins/DataWarehouse.Plugins.UltimateDataGovernance/Strategies/IntelligentGovernance/ValueScoringStrategies.cs</files>
  <action>
Create `ValueScoringStrategies.cs` in namespace `DataWarehouse.Plugins.UltimateDataGovernance.Strategies.IntelligentGovernance`.

Each strategy extends ConsciousnessStrategyBase (from SDK) with Category = ConsciousnessCategory.ValueScoring.

**Strategy 1: AccessFrequencyValueStrategy**
- StrategyId: "value-access-frequency"
- Scores based on metadata keys: "access_count" (int), "last_accessed" (DateTime), "access_trend" (string: "increasing"/"decreasing"/"stable")
- Score formula: base = min(accessCount / 100.0 * 50, 50) + recencyBonus (50 if accessed within 7 days, 30 if 30 days, 10 if 90 days, 0 otherwise) + trendBonus (increasing=+10, stable=0, decreasing=-10), clamped 0-100
- If metadata missing, return score 50 (neutral — absence of data is not proof of no access)

**Strategy 2: LineageDepthValueStrategy**
- StrategyId: "value-lineage-depth"
- Scores based on metadata keys: "downstream_count" (int), "upstream_count" (int), "lineage_depth" (int)
- More downstream dependents = higher value. Formula: min((downstream * 10) + (depth * 5), 100)
- If no lineage metadata, return 25 (low but not zero — could be leaf node)

**Strategy 3: UniquenessValueStrategy**
- StrategyId: "value-uniqueness"
- Scores based on metadata keys: "duplicate_count" (int), "similarity_score" (double 0-1), "is_primary_copy" (bool)
- Primary copy with zero duplicates = 100. Each duplicate reduces by 15. Similarity >0.9 counts as near-duplicate.
- Formula: isPrimary ? max(100 - duplicateCount * 15, 30) : max(50 - duplicateCount * 20, 0)

**Strategy 4: FreshnessValueStrategy**
- StrategyId: "value-freshness"
- Scores based on metadata keys: "created_at" (DateTime), "modified_at" (DateTime), "freshness_half_life_days" (int, default 90)
- Exponential decay: score = 100 * Math.Pow(0.5, ageDays / halfLifeDays), clamped 0-100
- Modified more recently than created? Use modified date.

**Strategy 5: BusinessCriticalityValueStrategy**
- StrategyId: "value-business-criticality"
- Scores based on metadata keys: "business_unit" (string), "criticality_tier" (int 1-5), "revenue_impact" (string: "direct"/"indirect"/"none")
- Tier 1 (mission-critical) = 100, Tier 2 = 80, Tier 3 = 60, Tier 4 = 40, Tier 5 = 20
- Revenue impact bonus: direct=+20, indirect=+10, none=0, clamped at 100

**Strategy 6: ComplianceValueStrategy**
- StrategyId: "value-compliance"
- Scores based on metadata keys: "regulatory_frameworks" (string[]), "audit_required" (bool), "legal_hold" (bool)
- Legal hold = automatic 100 (cannot be archived/purged). Audit required = 80 minimum. Each regulatory framework adds 10 (GDPR, HIPAA, SOX, etc.), capped at 100.

**Strategy 7: CompositeValueScoringStrategy**
- StrategyId: "value-composite"
- Implements IValueScorer in addition to extending ConsciousnessStrategyBase
- Aggregates all 6 dimension strategies with ConsciousnessScoringConfig.ValueWeights
- Default weights: AccessFrequency=0.25, Lineage=0.15, Uniqueness=0.15, Freshness=0.20, BusinessCriticality=0.15, ComplianceValue=0.10
- ScoreValueAsync: runs all 6 dimension scorers, applies weights, returns ValueScore with all dimension breakdowns
- Production-ready: no stubs, no Task.Delay, no simulated data

All strategies must have full XML doc comments, proper SemanticDescription, and Tags arrays.
  </action>
  <verify>Build the governance plugin: `dotnet build Plugins/DataWarehouse.Plugins.UltimateDataGovernance/DataWarehouse.Plugins.UltimateDataGovernance.csproj --no-restore`. Zero errors.</verify>
  <done>7 value scoring strategies compile, CompositeValueScoringStrategy implements IValueScorer, all dimension strategies produce scores 0-100 based on metadata, no stubs or placeholders.</done>
</task>

</tasks>

<verification>
- Governance plugin builds with zero errors
- All 7 strategies registered via ConsciousnessStrategyRegistry.AutoDiscover
- CompositeValueScoringStrategy.ScoreValueAsync returns ValueScore with all 6 dimension breakdowns
- No `Task.Delay`, no `return new byte[0]`, no `// TODO`
</verification>

<success_criteria>
Value scoring engine produces ValueScore (0-100) for any data object given its metadata dictionary. Each dimension scores independently and can be weighted via config. CompositeValueScoringStrategy aggregates all dimensions.
</success_criteria>

<output>
After completion, create `.planning/phases/56-data-consciousness/56-02-SUMMARY.md`
</output>
