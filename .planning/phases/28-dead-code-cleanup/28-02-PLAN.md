---
phase: 28-dead-code-cleanup
plan: 02
type: execute
wave: 2
depends_on: ["28-01"]
files_modified:
  - DataWarehouse.SDK/Contracts/CarbonAwarePluginBases.cs
  - DataWarehouse.SDK/Contracts/ComplianceAutomationPluginBases.cs
  - DataWarehouse.SDK/Contracts/DataConnectorPluginBases.cs
  - DataWarehouse.SDK/Contracts/ExabyteScalePluginBases.cs
  - DataWarehouse.SDK/Contracts/HypervisorPluginBases.cs
  - DataWarehouse.SDK/Contracts/MultiMasterPluginBases.cs
  - DataWarehouse.SDK/Contracts/TransitCompressionPluginBases.cs
  - DataWarehouse.SDK/Contracts/FeaturePluginInterfaces.cs
  - DataWarehouse.SDK/Contracts/ProviderInterfaces.cs
  - DataWarehouse.SDK/Contracts/StrategyAdapters.cs
  - DataWarehouse.SDK/Services/InstancePoolingService.cs
  - DataWarehouse.SDK/Services/IntelligenceInterfaceService.cs
  - DataWarehouse.SDK/Services/JobSchedulerService.cs
  - DataWarehouse.SDK/Services/PermissionCascadeService.cs
  - DataWarehouse.SDK/Services/SmartFolderService.cs
  - DataWarehouse.SDK/Services/VfsPlaceholderService.cs
  - DataWarehouse.SDK/Infrastructure/EdgeManagedPhase8.cs
  - DataWarehouse.SDK/Infrastructure/SingleFileDeploy.cs
  - DataWarehouse.SDK/Infrastructure/PerformanceOptimizations.cs
  - DataWarehouse.SDK/Infrastructure/StandardizedExceptionHandling.cs
  - DataWarehouse.SDK/Contracts/PublicTypes.cs
  - DataWarehouse.SDK/Contracts/Hierarchy/NewFeaturePluginBase.cs
  - DataWarehouse.SDK/Governance/GovernanceContracts.cs
  - DataWarehouse.SDK/Contracts/OrchestrationInterfaces.cs
  - DataWarehouse.SDK/Licensing/CustomerTiers.cs
  - DataWarehouse.SDK/Licensing/FeatureEnforcement.cs
  - DataWarehouse.Kernel/Pipeline/EligibleFeatureDefinitions.cs
  - DataWarehouse.Kernel/Pipeline/PipelineConfigResolver.cs
  - DataWarehouse.SDK/Contracts/InfrastructurePluginBases.cs
autonomous: true

must_haves:
  truths:
    - "All pure dead plugin base files (Category 1A) with zero references are deleted"
    - "All pure dead service files (Category 1B) with zero references are deleted"
    - "All pure dead infrastructure files (Category 1C) with zero references are deleted"
    - "All miscellaneous dead files (Category 1E) with zero references are deleted"
    - "Build compiles with zero errors after batch deletion"
    - "No future-ready interfaces deleted (AD-06 verified)"
  artifacts:
    - path: "DataWarehouse.SDK/Contracts/CarbonAwarePluginBases.cs"
      provides: "DELETED -- 5 dead plugin bases, 908 LOC removed"
    - path: "DataWarehouse.SDK/Services/IntelligenceInterfaceService.cs"
      provides: "DELETED -- dead AI service types, 1,681 LOC removed"
    - path: "DataWarehouse.SDK/Infrastructure/PerformanceOptimizations.cs"
      provides: "DELETED -- dead performance types, 1,910 LOC removed"
    - path: "DataWarehouse.SDK/Contracts/FeaturePluginInterfaces.cs"
      provides: "DELETED -- 7 dead bases + interfaces, 2,748 LOC removed"
  key_links:
    - from: "deleted files"
      to: "dotnet build"
      via: "zero broken references after deletion"
      pattern: "Build succeeded"
---

<objective>
Delete all pure dead files in the SDK and Kernel -- plugin bases, services, infrastructure, and miscellaneous categories.

Purpose: Remove ~22,600 LOC of confirmed dead code across ~29 files. These files have zero external references (verified by research) and their live types were safely extracted in Plan 01.

Output: ~29 files deleted, build still compiles, ~22,600 LOC removed.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/28-dead-code-cleanup/28-RESEARCH.md
@.planning/phases/28-dead-code-cleanup/28-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete dead plugin base and service files (Category 1A + 1B)</name>
  <files>
    DataWarehouse.SDK/Contracts/CarbonAwarePluginBases.cs
    DataWarehouse.SDK/Contracts/ComplianceAutomationPluginBases.cs
    DataWarehouse.SDK/Contracts/DataConnectorPluginBases.cs
    DataWarehouse.SDK/Contracts/ExabyteScalePluginBases.cs
    DataWarehouse.SDK/Contracts/HypervisorPluginBases.cs
    DataWarehouse.SDK/Contracts/MultiMasterPluginBases.cs
    DataWarehouse.SDK/Contracts/TransitCompressionPluginBases.cs
    DataWarehouse.SDK/Contracts/FeaturePluginInterfaces.cs
    DataWarehouse.SDK/Contracts/StrategyAdapters.cs
    DataWarehouse.SDK/Services/InstancePoolingService.cs
    DataWarehouse.SDK/Services/IntelligenceInterfaceService.cs
    DataWarehouse.SDK/Services/JobSchedulerService.cs
    DataWarehouse.SDK/Services/PermissionCascadeService.cs
    DataWarehouse.SDK/Services/SmartFolderService.cs
    DataWarehouse.SDK/Services/VfsPlaceholderService.cs
  </files>
  <action>
    **SAFETY PROTOCOL -- Before EACH file deletion:**
    1. Grep for every public type name defined in the file across the ENTIRE codebase (exclude obj/).
    2. For each type with count > 0: verify the references are ONLY from other files being deleted in this same batch OR from files already handled by Plan 01.
    3. If ANY reference comes from a LIVE file not in the deletion set: STOP and extract that type first.

    **IMPORTANT EXCEPTIONS -- Do NOT delete these types even if in a "dead" file:**
    - `TransitEncryptionPluginBase` in TransitCompressionPluginBases.cs has 10 refs -- it IS used. If it shares a file with dead types, either (a) extract it to a new file first, or (b) only remove the dead types from the file.

    **Category 1A -- Plugin Base Files (delete entire file if all types confirmed dead):**
    1. `CarbonAwarePluginBases.cs` (908 LOC) -- 5 bases, 0 external refs. NOTE: interfaces in ICarbonAwareStorage.cs are future-ready (KEPT by Plan 01).
    2. `ComplianceAutomationPluginBases.cs` (794 LOC) -- 3 bases, 0 external refs. NOTE: IComplianceAutomation has 2 refs; grep to verify those refs are from live code. If so, extract IComplianceAutomation before deleting.
    3. `DataConnectorPluginBases.cs` (788 LOC) -- 4 bases, 0 external refs.
    4. `ExabyteScalePluginBases.cs` (852 LOC) -- 3 bases, 0 external refs. Also references MetadataIndexPluginBase (cascade-dead in PluginBase.cs).
    5. `HypervisorPluginBases.cs` (680 LOC) -- 4 bases, 0 external refs. Interfaces in IHypervisorSupport.cs are future-ready (KEPT).
    6. `MultiMasterPluginBases.cs` (497 LOC) -- 1 base, 0 external refs.
    7. `TransitCompressionPluginBases.cs` (738 LOC) -- CAUTION: `TransitEncryptionPluginBase` IS used (10 refs). Only delete the dead `TransitCompressionPluginBase` type. If file contains ONLY TransitCompressionPluginBase (dead) + TransitEncryptionPluginBase (live): extract TransitEncryptionPluginBase to a new file (e.g., Contracts/TransitEncryptionPluginBase.cs), then delete the original.
    8. `FeaturePluginInterfaces.cs` (2,748 LOC) -- 7 bases + interfaces + types, 0 external refs for any.
    9. `StrategyAdapters.cs` (127 LOC) -- 2 adapters, 0 external refs.

    **Category 1B -- SDK Service Files (delete entire file):**
    10. `InstancePoolingService.cs` (813 LOC) -- 0 external refs.
    11. `IntelligenceInterfaceService.cs` (1,681 LOC) -- 0 external refs.
    12. `JobSchedulerService.cs` (705 LOC) -- 0 external refs (types overlap with Kernel scheduler).
    13. `PermissionCascadeService.cs` (422 LOC) -- 0 external refs.
    14. `SmartFolderService.cs` (360 LOC) -- 0 external refs.
    15. `VfsPlaceholderService.cs` (408 LOC) -- 0 external refs.

    **Deletion method:** Use `git rm` for each file to ensure proper git tracking. Delete in batches of 5, running `dotnet build DataWarehouse.slnx` after each batch to catch breaks early.

    **After deletion:** Run `dotnet build DataWarehouse.slnx` and fix any CS8019 (unnecessary using directive) warnings that become errors due to TreatWarningsAsErrors. Remove orphaned `using` directives in any file that referenced deleted namespaces.
  </action>
  <verify>
    `dotnet build DataWarehouse.slnx` -- zero new errors. `git status` shows ~15 files deleted. Grep for a few deleted type names (e.g., `CarbonAwarePluginBase`, `InstancePoolingService`) returns 0 matches (excluding obj/).
  </verify>
  <done>
    15 pure dead files deleted (~10,550 LOC removed). Build compiles. No live types lost. TransitEncryptionPluginBase preserved.
  </done>
</task>

<task type="auto">
  <name>Task 2: Delete dead infrastructure, miscellaneous, and remaining dead files (Category 1C + 1E)</name>
  <files>
    DataWarehouse.SDK/Infrastructure/EdgeManagedPhase8.cs
    DataWarehouse.SDK/Infrastructure/SingleFileDeploy.cs
    DataWarehouse.SDK/Infrastructure/PerformanceOptimizations.cs
    DataWarehouse.SDK/Infrastructure/StandardizedExceptionHandling.cs
    DataWarehouse.SDK/Contracts/PublicTypes.cs
    DataWarehouse.SDK/Contracts/Hierarchy/NewFeaturePluginBase.cs
    DataWarehouse.SDK/Governance/GovernanceContracts.cs
    DataWarehouse.SDK/Contracts/OrchestrationInterfaces.cs
    DataWarehouse.SDK/Licensing/CustomerTiers.cs
    DataWarehouse.SDK/Licensing/FeatureEnforcement.cs
    DataWarehouse.Kernel/Pipeline/EligibleFeatureDefinitions.cs
    DataWarehouse.Kernel/Pipeline/PipelineConfigResolver.cs
    DataWarehouse.SDK/Contracts/InfrastructurePluginBases.cs
    DataWarehouse.SDK/Contracts/ProviderInterfaces.cs
  </files>
  <action>
    **Same SAFETY PROTOCOL as Task 1 -- grep every public type before deletion.**

    **Category 1C -- SDK Infrastructure Files (delete entire file):**
    1. `EdgeManagedPhase8.cs` (872 LOC) -- 0 external refs.
    2. `SingleFileDeploy.cs` (511 LOC) -- 0 external refs.
    3. `PerformanceOptimizations.cs` (1,910 LOC) -- 0 external refs.
    4. `StandardizedExceptionHandling.cs` (669 LOC) -- 0 external refs.

    **Category 1E -- Miscellaneous Dead Files:**
    5. `PublicTypes.cs` (70 LOC) -- Plan 01 determined if types are cascade-dead. If live types were extracted in Plan 01, delete. If Plan 01 left it alone (live refs found), keep it.
    6. `NewFeaturePluginBase.cs` (52 LOC) -- Plan 01 determined if this is a dead redirect. If confirmed dead by Plan 01, delete.
    7. `GovernanceContracts.cs` (206 LOC) -- GovernancePluginBase (which references this) is dead in PluginBase.cs. If all refs come from dead code: delete.
    8. `CustomerTiers.cs` (14 LOC) -- Empty placeholder, delete.
    9. `FeatureEnforcement.cs` (13 LOC) -- Empty placeholder, delete.
    10. `EligibleFeatureDefinitions.cs` (447 LOC) -- 0 external refs, delete.
    11. `PipelineConfigResolver.cs` (748 LOC) -- 0 external refs, delete.

    **Files emptied by Plan 01 extraction (now containing only dead types):**
    12. `InfrastructurePluginBases.cs` -- After Plan 01 extracted live types, only dead plugin bases remain. Delete the file.
    13. `OrchestrationInterfaces.cs` -- After Plan 01 extracted IWriteDestination/IContentProcessor/WriteDestinationPluginBase, only dead types remain. Delete.
    14. `ProviderInterfaces.cs` -- If Plan 01 relocated IFeaturePlugin and IStorageProvider, delete. If Plan 01 kept live types in this file, do NOT delete.

    **Deletion method:** `git rm` for each file. Build after every 4-5 deletions.

    **After ALL deletions:** Run `dotnet build DataWarehouse.slnx` and fix any orphaned `using` directives (CS8019 under TreatWarningsAsErrors). Search for `using DataWarehouse.SDK.Infrastructure` and `using DataWarehouse.SDK.Governance` and `using DataWarehouse.SDK.Licensing` -- remove any that reference deleted namespaces.
  </action>
  <verify>
    `dotnet build DataWarehouse.slnx` -- zero new errors. `git status` shows ~14 additional files deleted. Total LOC removed so far: ~17,000-18,000 across both tasks.
  </verify>
  <done>
    All Category 1C and 1E dead files deleted (~5,500 LOC). All files emptied by Plan 01 extraction also deleted. Build compiles. No live types lost. No future-ready interfaces removed.
  </done>
</task>

</tasks>

<verification>
1. `dotnet build DataWarehouse.slnx` compiles with zero new errors after all deletions
2. Grep for several deleted type names returns 0 matches: CarbonAwarePluginBase, InstancePoolingService, EdgeManagedPhase8, EligibleFeature
3. TransitEncryptionPluginBase still exists and has 10+ references
4. All 9 future-ready files still exist (confirmed by `ls`)
5. No orphaned using directives causing CS8019 errors
</verification>

<success_criteria>
- ~29 dead files deleted across Categories 1A, 1B, 1C, and 1E
- ~16,000-18,000 LOC removed (pure dead file deletions + emptied mixed files)
- Build compiles with zero errors
- Zero future-ready interfaces deleted (CLEAN-03 maintained)
- All used types (TransitEncryptionPluginBase, IComplianceAutomation if live) preserved
</success_criteria>

<output>
After completion, create `.planning/phases/28-dead-code-cleanup/28-02-SUMMARY.md`
</output>
