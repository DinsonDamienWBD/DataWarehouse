---
phase: 28-dead-code-cleanup
plan: 03
type: execute
wave: 2
depends_on: ["28-01"]
files_modified:
  - DataWarehouse.SDK/AI/SemanticAnalyzerBase.cs
  - DataWarehouse.SDK/AI/ISemanticAnalyzer.cs
  - DataWarehouse.SDK/AI/VectorOperations.cs
  - DataWarehouse.SDK/AI/GraphStructures.cs
  - DataWarehouse.SDK/AI/MathUtilities.cs
  - DataWarehouse.SDK/Infrastructure/HttpClientFactory.cs
  - DataWarehouse.SDK/AI/KnowledgeObject.cs
  - DataWarehouse.SDK/AI/Knowledge/KnowledgeObject.cs
  - DataWarehouse.SDK/Contracts/PluginBase.cs
  - DataWarehouse.SDK/Contracts/StorageOrchestratorBase.cs
  - DataWarehouse.SDK/Contracts/IStorageOrchestration.cs
autonomous: true

must_haves:
  truths:
    - "All dead AI module files (Category 1D) are deleted"
    - "Dead intermediate bases in PluginBase.cs are removed without breaking inheritance chains"
    - "Dead types in StorageOrchestratorBase.cs and IStorageOrchestration.cs are removed"
    - "Duplicate KnowledgeObject is resolved (one canonical version)"
    - "Build compiles with zero errors after all removals"
  artifacts:
    - path: "DataWarehouse.SDK/AI/SemanticAnalyzerBase.cs"
      provides: "DELETED -- dead AI analyzer, 2,062 LOC removed"
    - path: "DataWarehouse.SDK/AI/ISemanticAnalyzer.cs"
      provides: "DELETED -- dead AI interface, 1,056 LOC removed"
    - path: "DataWarehouse.SDK/Contracts/PluginBase.cs"
      provides: "~10 dead intermediate bases removed (~1,800 LOC), all used bases preserved"
      contains: "class PluginBase"
    - path: "DataWarehouse.SDK/Contracts/StorageOrchestratorBase.cs"
      provides: "Dead types removed, live types preserved (StoragePoolBase, SimpleStrategy, MirroredStrategy, WriteAheadLogStrategy, StorageStrategyBase)"
  key_links:
    - from: "DataWarehouse.SDK/Contracts/PluginBase.cs"
      to: "All plugins inheriting from preserved bases"
      via: "Inheritance chain intact"
      pattern: "class.*PluginBase"
    - from: "DataWarehouse.SDK/AI/KnowledgeObject.cs"
      to: "144 files referencing KnowledgeObject"
      via: "Preserved canonical version (DataWarehouse.SDK.AI namespace)"
      pattern: "KnowledgeObject"
---

<objective>
Delete dead AI module files, remove dead types from mixed files (PluginBase.cs, StorageOrchestratorBase.cs, IStorageOrchestration.cs), and consolidate duplicate KnowledgeObject.

Purpose: Remove ~10,000 LOC of dead code from Category 1D (AI module), Category 2 (mixed files), and Category 4A (duplicate KnowledgeObject). Mixed file surgery requires careful type-by-type removal to preserve live types and inheritance chains.

Output: 6 dead AI files deleted, ~10 dead bases removed from PluginBase.cs, dead types removed from storage orchestrator files, KnowledgeObject consolidated to one version.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/28-dead-code-cleanup/28-RESEARCH.md
@.planning/phases/28-dead-code-cleanup/28-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete dead AI module files and consolidate KnowledgeObject</name>
  <files>
    DataWarehouse.SDK/AI/SemanticAnalyzerBase.cs
    DataWarehouse.SDK/AI/ISemanticAnalyzer.cs
    DataWarehouse.SDK/AI/VectorOperations.cs
    DataWarehouse.SDK/AI/GraphStructures.cs
    DataWarehouse.SDK/AI/MathUtilities.cs
    DataWarehouse.SDK/Infrastructure/HttpClientFactory.cs
    DataWarehouse.SDK/AI/KnowledgeObject.cs
    DataWarehouse.SDK/AI/Knowledge/KnowledgeObject.cs
  </files>
  <action>
    **Category 1D -- AI Module Dead Files (delete entire file):**

    SAFETY PROTOCOL: Grep each type name before deletion.

    1. `SemanticAnalyzerBase.cs` (2,062 LOC) -- Only ref from VectorOperations.cs (also dead). Cascade-confirmed dead.
    2. `ISemanticAnalyzer.cs` (1,056 LOC) -- Only ref from SemanticAnalyzerBase.cs (dead). Cascade-confirmed dead.
    3. `VectorOperations.cs` (238 LOC) -- Only ref from SemanticAnalyzerBase.cs (dead). Cascade-confirmed dead.
    4. `GraphStructures.cs` (263 LOC) -- 0 external refs.
    5. `MathUtilities.cs` (323 LOC) -- 0 external refs.
    6. `HttpClientFactory.cs` (710 LOC) -- 0 external refs. Located in Infrastructure/ but logically part of AI module.

    Delete all 6 files using `git rm`. Run `dotnet build DataWarehouse.slnx` to verify.

    **Category 4A -- Duplicate KnowledgeObject Resolution:**

    Research recommends Option 1: Keep old (AI/ namespace, 336 LOC, 144 refs), delete new (AI/Knowledge/ namespace, 1,197 LOC, 7 refs).

    Steps:
    1. Grep for `DataWarehouse.SDK.AI.Knowledge.KnowledgeObject` (the NEW namespace) to find the 7 files that reference it.
    2. In each of those 7 files: change `using DataWarehouse.SDK.AI.Knowledge;` to `using DataWarehouse.SDK.AI;` (or use the existing using if it already imports DataWarehouse.SDK.AI).
    3. Verify that the old KnowledgeObject (AI/ namespace) has all the properties/methods needed by those 7 callers. If the new version has additional members used by those 7 files that the old version lacks: STOP -- copy those members to the old version first.
    4. Delete `AI/Knowledge/KnowledgeObject.cs` (1,197 LOC) using `git rm`.
    5. If the `AI/Knowledge/` directory is now empty: delete it.
    6. Run `dotnet build DataWarehouse.slnx` to verify.

    **After all deletions:** Fix any orphaned `using` directives (CS8019). Common ones: `using DataWarehouse.SDK.AI` in files that only imported for SemanticAnalyzerBase/VectorOperations.
  </action>
  <verify>
    `dotnet build DataWarehouse.slnx` -- zero new errors. 6 dead AI files deleted. KnowledgeObject consolidated to single canonical version in AI/ namespace. Grep for `SemanticAnalyzerBase` returns 0 matches (excluding obj/).
  </verify>
  <done>
    6 dead AI files deleted (~4,652 LOC). KnowledgeObject consolidated (~1,197 LOC duplicate removed, 7 refs migrated). Total ~5,849 LOC removed. Build compiles.
  </done>
</task>

<task type="auto">
  <name>Task 2: Remove dead types from PluginBase.cs, StorageOrchestratorBase.cs, and IStorageOrchestration.cs</name>
  <files>
    DataWarehouse.SDK/Contracts/PluginBase.cs
    DataWarehouse.SDK/Contracts/StorageOrchestratorBase.cs
    DataWarehouse.SDK/Contracts/IStorageOrchestration.cs
  </files>
  <action>
    **Category 2A -- Dead Intermediate Bases in PluginBase.cs (~1,800 LOC):**

    CRITICAL: PluginBase.cs is ~4,046 LOC containing the entire plugin inheritance tree. Surgical precision required. Remove ONLY confirmed dead bases. NEVER touch used bases.

    **Step 1: Read PluginBase.cs fully.** Map the inheritance hierarchy.

    **Step 2: For EACH candidate dead base, verify before removal:**
    1. Grep the exact class name across codebase (exclude obj/).
    2. Verify count = 1 (self-only definition in PluginBase.cs).
    3. Check inheritance chain: if any LIVE base inherits from this candidate, it CANNOT be removed.
    4. Check if the candidate inherits from a live base -- removal is safe in that case (no chain break).

    **Dead bases to remove (from research, all confirmed count=1):**
    - `OrchestrationProviderPluginBase` (line ~1468) -- 0 external refs
    - `IntelligencePluginBase` (line ~1491) -- 0 external refs
    - `RealTimePluginBase` (line ~2223) -- 0 external refs
    - `CloudEnvironmentPluginBase` (line ~2298) -- 0 external refs
    - `SerializerPluginBase` (line ~2380) -- 0 external refs
    - `SemanticMemoryPluginBase` (line ~2416) -- 0 external refs
    - `MetricsPluginBase` (line ~2446) -- 0 external refs
    - `GovernancePluginBase` (line ~2496) -- 0 external refs (GovernanceContracts.cs being deleted in Plan 02)
    - `KeyStorePluginBase` (line ~2539) -- 0 external refs (interfaces used, but base unused)

    **CAUTION -- ListableStoragePluginBase (line ~1610):**
    Research says 0 direct external refs, BUT TieredStoragePluginBase inherits from it (2 external refs). DO NOT remove ListableStoragePluginBase unless TieredStoragePluginBase is re-parented first. If re-parenting is trivial (move TieredStoragePluginBase to inherit from the next ancestor): do it. If complex: leave ListableStoragePluginBase alone.

    **CAUTION -- MetadataIndexPluginBase:**
    Research says "2 refs, but only from ExabyteScalePluginBases which is dead." Since ExabyteScalePluginBases.cs is being deleted in Plan 02, MetadataIndexPluginBase becomes cascade-dead. BUT verify that Plan 02 has actually deleted ExabyteScalePluginBases.cs (check 28-01-SUMMARY.md). If Plan 02 runs in parallel (same wave): grep at execution time to confirm ExabyteScalePluginBases.cs refs are gone.

    **Step 3:** For each dead base, remove the entire class definition (class declaration through closing brace). Be careful with nested classes and XML doc comments above the class.

    **Step 4:** Run `dotnet build DataWarehouse.slnx` after every 3 removals to catch breaks early.

    **Category 2C -- StorageOrchestratorBase.cs (1,277 LOC, mostly dead):**

    Dead types to remove:
    - `IndexingStorageOrchestratorBase`
    - `RealTimeStorageOrchestratorBase`
    - `SearchOrchestratorBase`
    - `CachedStrategy`
    - `RealTimeStrategy`

    Live types to KEEP:
    - `StoragePoolBase` (test refs)
    - `SimpleStrategy` (5 refs)
    - `MirroredStrategy` (3 refs)
    - `WriteAheadLogStrategy` (2 refs)
    - `StorageStrategyBase` (used by DatabaseStorage plugin)

    Grep each type before removal. Remove dead types, keep live types.

    **Category 2D -- IStorageOrchestration.cs (564 LOC, borderline dead):**

    Check after StorageOrchestratorBase.cs cleanup:
    - `IStoragePool` -- if only ref was from deleted StorageOrchestratorBase types, it is now dead. BUT StoragePoolBase (live) may implement it -- grep.
    - `IHybridStorage` -- grep for live refs.
    - `IRealTimeStorage` -- if only ref was from RealTimeStorageOrchestratorBase (dead), now dead.
    - `IStorageSearchOrchestrator` -- if only ref was from SearchOrchestratorBase (dead), now dead.

    Remove only types confirmed dead AFTER the StorageOrchestratorBase cleanup. If the file becomes empty or near-empty, delete it.

    **After ALL removals:** Run `dotnet build DataWarehouse.slnx`. Fix orphaned usings.
  </action>
  <verify>
    `dotnet build DataWarehouse.slnx` -- zero new errors. Grep for removed base names (e.g., `GovernancePluginBase`, `SerializerPluginBase`, `IndexingStorageOrchestratorBase`) returns 0 matches. All live bases in PluginBase.cs (PluginBase, StorageProviderPluginBase, PipelinePluginBase, EncryptionPluginBase, etc.) still have their expected reference counts.
  </verify>
  <done>
    ~9-10 dead intermediate bases removed from PluginBase.cs (~1,800 LOC). ~5 dead types removed from StorageOrchestratorBase.cs (~600 LOC). Dead types removed from IStorageOrchestration.cs (~300 LOC). All live types and inheritance chains preserved. Build compiles.
  </done>
</task>

</tasks>

<verification>
1. `dotnet build DataWarehouse.slnx` compiles with zero new errors
2. PluginBase.cs still contains all LIVE bases (PluginBase root, StorageProviderPluginBase, PipelinePluginBase, EncryptionPluginBase, CompressionPluginBase, TieredStoragePluginBase, etc.)
3. KnowledgeObject exists in exactly ONE location (AI/ namespace) with all 144+ refs resolving
4. StorageOrchestratorBase.cs retains SimpleStrategy, MirroredStrategy, WriteAheadLogStrategy, StorageStrategyBase
5. No inheritance chain breakage (TieredStoragePluginBase still compiles)
</verification>

<success_criteria>
- 6 dead AI files deleted (~4,652 LOC)
- KnowledgeObject consolidated from 2 to 1 version (~1,197 LOC duplicate removed)
- ~10 dead intermediate bases removed from PluginBase.cs (~1,800 LOC)
- Dead types removed from StorageOrchestratorBase.cs (~600 LOC) and IStorageOrchestration.cs (~300 LOC)
- Total ~8,500 LOC removed
- Build compiles with zero errors
- All inheritance chains intact
</success_criteria>

<output>
After completion, create `.planning/phases/28-dead-code-cleanup/28-03-SUMMARY.md`
</output>
