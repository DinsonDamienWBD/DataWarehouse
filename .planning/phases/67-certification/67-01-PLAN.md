---
phase: 67-certification
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/67-certification/67-01-BUILD-AUDIT.md
autonomous: true

must_haves:
  truths:
    - "Every plugin project builds with 0 errors and 0 warnings"
    - "All 63 plugins are included in DataWarehouse.slnx"
    - "Every plugin references ONLY DataWarehouse.SDK (no cross-plugin references)"
    - "Every plugin registers with the kernel via PluginRegistrar or equivalent"
    - "Every strategy class inherits from the correct SDK base class"
    - "Message bus wiring is present for every plugin that declares topics"
    - "Config paths exist for every configurable feature"
  artifacts:
    - path: ".planning/phases/67-certification/67-01-BUILD-AUDIT.md"
      provides: "Complete build health and plugin registration audit"
      contains: "PASS|FAIL"
  key_links:
    - from: "DataWarehouse.slnx"
      to: "All 63 plugin .csproj files"
      via: "Solution inclusion"
      pattern: "DataWarehouse\\.Plugins\\."
    - from: "Each plugin"
      to: "DataWarehouse.SDK"
      via: "ProjectReference"
      pattern: "ProjectReference.*SDK"
---

<objective>
Full codebase build health and plugin registration audit for all 63 plugins.

Purpose: Verify the structural integrity of the entire v5.0 codebase -- every plugin builds cleanly, references only the SDK, registers correctly, and has proper bus wiring and config paths.
Output: `.planning/phases/67-certification/67-01-BUILD-AUDIT.md` with per-plugin PASS/FAIL
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/PLUGIN-CATALOG.md
@.planning/phases/51-certification-authority/v4.5-CERTIFICATION.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build Health and Solution Completeness Audit</name>
  <files>.planning/phases/67-certification/67-01-BUILD-AUDIT.md</files>
  <action>
    Run a comprehensive build and structural audit:

    1. **Full solution build**: Run `dotnet build DataWarehouse.slnx` capturing ALL output. Record: errors, warnings, build time, project count.

    2. **Solution completeness**: Parse DataWarehouse.slnx and verify all 63 plugin .csproj files are included. List any missing projects.

    3. **Test suite**: Run `dotnet test DataWarehouse.slnx --no-build` capturing results. Record: total tests, passed, failed, skipped. List every failing test with full error message.

    4. **SDK-only references**: For EVERY plugin .csproj file under Plugins/, verify:
       - It has a ProjectReference to DataWarehouse.SDK
       - It has NO ProjectReference to any other plugin
       - List all NuGet PackageReferences per plugin

    5. **Plugin registration**: For each of the 63 plugins, search for registration code -- either a `Register()` method, `[Plugin]` attribute, or PluginRegistrar call. Flag any plugin with NO registration mechanism.

    6. **Strategy base class inheritance**: Sample 20 strategies across different plugins and verify each inherits from the correct SDK base (StorageStrategyBase, SecurityStrategyBase, etc.) -- not directly implementing interfaces.

    7. **Message bus wiring**: For each plugin, check if it subscribes to or publishes bus topics. Cross-reference with PLUGIN-CATALOG.md declared topics. Flag topics declared but not wired, or wired but not declared.

    8. **Config path audit**: For each plugin, search for configuration loading patterns (IConfiguration, Options pattern, appsettings sections). Flag plugins with hardcoded values where config should exist.

    Produce `.planning/phases/67-certification/67-01-BUILD-AUDIT.md` with:
    - Executive summary (PASS/FAIL)
    - Build results table
    - Per-plugin audit table (63 rows) with columns: Plugin | Builds | SDK-Only Refs | Registered | Strategies Valid | Bus Wired | Config Paths | Verdict
    - Detailed findings for any FAIL items
    - Comparison to v4.5 baseline (what improved since v4.5 certification)
  </action>
  <verify>
    `dotnet build DataWarehouse.slnx` completes with 0 errors. The audit document exists and contains a verdict for all 63 plugins.
  </verify>
  <done>
    67-01-BUILD-AUDIT.md exists with per-plugin PASS/FAIL verdicts, build succeeds with 0 errors 0 warnings, all structural checks documented.
  </done>
</task>

</tasks>

<verification>
- `dotnet build DataWarehouse.slnx` returns 0 errors, 0 warnings
- `dotnet test DataWarehouse.slnx --no-build` reports test results
- 67-01-BUILD-AUDIT.md contains verdict for all 63 plugins
</verification>

<success_criteria>
Complete build health audit with per-plugin verdicts covering: build health, SDK isolation, registration, strategy inheritance, bus wiring, and config paths. Document is a factual audit -- no speculation, only evidence from the codebase.
</success_criteria>

<output>
After completion, create `.planning/phases/67-certification/67-01-SUMMARY.md`
</output>
