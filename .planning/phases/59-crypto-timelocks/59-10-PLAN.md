---
phase: 59-crypto-timelocks
plan: 10
type: execute
wave: 5
depends_on: ["59-09"]
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateEncryption/UltimateEncryptionPlugin.cs
  - Plugins/DataWarehouse.Plugins.TamperProof/TamperProofPlugin.cs
autonomous: true

must_haves:
  truths:
    - "Full solution builds with 0 errors after all Phase 59 changes"
    - "No regressions in existing encryption strategies (ML-KEM, hybrid strategies still compile)"
    - "No regressions in existing TamperProof functionality (WORM, integrity, blockchain still compile)"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateEncryption/DataWarehouse.Plugins.UltimateEncryption.csproj"
      provides: "Project compiles with all PQC strategies"
    - path: "Plugins/DataWarehouse.Plugins.TamperProof/DataWarehouse.Plugins.TamperProof.csproj"
      provides: "Project compiles with all time-lock providers"
  key_links:
    - from: "DataWarehouse.slnx"
      to: "all projects"
      via: "solution-level build verification"
      pattern: "Build succeeded"
---

<objective>
Build verification and integration fix-up for all Phase 59 deliverables.

Purpose: Ensure the entire solution builds cleanly after all Phase 59 changes. Fix any compilation errors, missing references, namespace conflicts, or type resolution issues. This is the final quality gate before Phase 59 is marked complete.

Output: Clean solution build with 0 errors.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/59-crypto-timelocks/59-01-SUMMARY.md
@.planning/phases/59-crypto-timelocks/59-02-SUMMARY.md
@.planning/phases/59-crypto-timelocks/59-03-SUMMARY.md
@.planning/phases/59-crypto-timelocks/59-04-SUMMARY.md
@.planning/phases/59-crypto-timelocks/59-05-SUMMARY.md
@.planning/phases/59-crypto-timelocks/59-06-SUMMARY.md
@.planning/phases/59-crypto-timelocks/59-07-SUMMARY.md
@.planning/phases/59-crypto-timelocks/59-08-SUMMARY.md
@.planning/phases/59-crypto-timelocks/59-09-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Full solution build verification and error resolution</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateEncryption/UltimateEncryptionPlugin.cs
    Plugins/DataWarehouse.Plugins.TamperProof/TamperProofPlugin.cs
  </files>
  <action>
Run `dotnet build DataWarehouse.slnx` and fix ALL errors.

Common expected issues to watch for and fix:
1. Missing `using` statements for new namespaces (e.g., TimeLock, CryptoAgility, PostQuantum)
2. Type name conflicts between SDK contracts and plugin implementations
3. Missing BouncyCastle package references (Dilithium/SPHINCS+ parameter types may need specific BouncyCastle.Cryptography version)
4. Abstract method signature mismatches between SDK base class and plugin implementation
5. `IPlugin` interface members not implemented (Id, Name, Version, Category properties)
6. Missing `IStrategyRegistry` or `IMessageBus` type references
7. Nullable reference type warnings that should be resolved
8. Any CS1729 (no constructor) or CS0234 (namespace missing) errors

Fix process:
1. Build the full solution: `dotnet build DataWarehouse.slnx`
2. If errors exist, categorize by project (SDK vs UltimateEncryption vs TamperProof)
3. Fix SDK errors first (others depend on SDK)
4. Fix plugin errors next
5. Re-build until 0 errors
6. Verify 0 warnings introduced (existing warnings acceptable, no NEW warnings)

Do NOT introduce any stubs, TODOs, or simplifications to fix errors. If a method signature mismatch exists, fix the implementation to match the contract. If a BouncyCastle type is missing, check the package version and update if needed.

After clean build, verify the specific projects:
- `dotnet build DataWarehouse.SDK/DataWarehouse.SDK.csproj`
- `dotnet build Plugins/DataWarehouse.Plugins.UltimateEncryption/DataWarehouse.Plugins.UltimateEncryption.csproj`
- `dotnet build Plugins/DataWarehouse.Plugins.TamperProof/DataWarehouse.Plugins.TamperProof.csproj`
  </action>
  <verify>`dotnet build DataWarehouse.slnx` outputs "Build succeeded" with 0 errors. Individual project builds also succeed.</verify>
  <done>Full solution builds with 0 errors. All Phase 59 SDK contracts, PQC strategies, time-lock providers, crypto-agility engine, and plugin registrations compile cleanly.</done>
</task>

<task type="auto">
  <name>Task 2: Verify no regressions and run existing tests</name>
  <files></files>
  <action>
Run existing test suite to verify no regressions:

1. `dotnet test DataWarehouse.slnx --no-build --verbosity normal` -- all existing tests must pass
2. If any test fails, investigate and fix. The Phase 59 changes should not break existing functionality:
   - Existing ML-KEM strategies are metadata-only updates (no logic changes)
   - Existing hybrid strategies are metadata-only updates
   - New strategies are additive (no modifications to existing)
   - New time-lock types are additive to SDK
   - Plugin registration additions should not affect existing registrations

3. If build passed but tests fail, check for:
   - Strategy registration order dependencies
   - ConcurrentDictionary initialization timing
   - BouncyCastle parameter type changes between versions
   - Missing cancellation token propagation

Fix any regressions. Do NOT skip or disable existing tests.
  </action>
  <verify>`dotnet test DataWarehouse.slnx --no-build` shows all tests passing with 0 failures.</verify>
  <done>All existing tests pass. No regressions from Phase 59 changes. Full solution verified clean.</done>
</task>

</tasks>

<verification>
- `dotnet build DataWarehouse.slnx` -- 0 errors
- `dotnet test DataWarehouse.slnx --no-build` -- all tests pass, 0 failures
- No new warnings introduced by Phase 59 code
</verification>

<success_criteria>
Clean build. All tests pass. Zero regressions. Phase 59 is production-ready.
</success_criteria>

<output>
After completion, create `.planning/phases/59-crypto-timelocks/59-10-SUMMARY.md`
</output>
