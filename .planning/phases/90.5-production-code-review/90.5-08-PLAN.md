---
phase: 90.5-production-code-review
plan: 08
type: manual
wave: 3
depends_on: ["90.5-04"]
files_modified: [Plugins/DataWarehouse.Plugins.UltimateConnector/]
autonomous: false

must_haves:
  truths:
    - "All ~52 blockchain/dashboard hard-throw methods have real implementations or are properly guarded"
    - "Connector strategies actually establish connections to external systems"
    - "No stub or no-op code paths remain"
    - "Wiring document explains connector architecture, protocol handling, and external system integration"
  artifacts:
    - path: ".planning/phases/90.5-production-code-review/wiring/08-connector-wiring.md"
      provides: "Complete wiring documentation for UltimateConnector"
  key_links:
    - from: "Plugins/DataWarehouse.Plugins.UltimateConnector/"
      to: "DataWarehouse.SDK/Contracts/"
      via: "Connector contract implementations"
---

<objective>
Production Code Review and Gap Closure for UltimateConnector plugin.

Purpose: UltimateConnector bridges to external systems. ~52 blockchain/dashboard methods hard-throw. Each must be implemented or properly classified as a future-capability guard.

Output: Zero-gap UltimateConnector with comprehensive wiring documentation.
</objective>

<context>
@.planning/PROJECT.md
@.planning/PLUGIN-CATALOG.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 1: Systematic Scan of UltimateConnector</name>
  <files>Plugins/DataWarehouse.Plugins.UltimateConnector/</files>
  <action>

    **MANDATORY PER-FILE REPORTING RULE:**
    Every single .cs file in the project directory MUST be individually listed in the findings report. No exceptions, no summarization across files. For each file report:
    - Full file path and total line count
    - Every finding (stub, no-op, gap, fake payload, TODO) with exact line number(s) and code snippet
    - If the file has zero issues, explicitly list it as: "filename.cs (N lines) â€” CLEAN, no issues"
    
    Do NOT skip any file. Do NOT group files together. Do NOT say "similar pattern in X files".
    Go through every line of code in every file. We are closing all gaps once and for all.
    Perform exhaustive scan for:
    1. All ~52 blockchain/dashboard hard-throw methods (classify each as implementable vs future-only)
    2. Task.CompletedTask / Task.FromResult no-ops
    3. Fake connection strings, mock responses, placeholder data
    4. TODO/FIXME comments
    5. Connection strategies that don't actually connect

    For blockchain methods: determine if they can be implemented with a generic blockchain RPC client pattern or if they truly require specific chain SDKs.
    For dashboard methods: determine if they can be implemented with a data-push pattern.

    Present findings with classification: IMPLEMENT vs GUARD (with justification for guards).
  </action>
  <verify>User reviews findings and decides on each method</verify>
  <done>Complete inventory with classifications presented to user</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Implement Fixes</name>
  <files>Plugins/DataWarehouse.Plugins.UltimateConnector/</files>
  <action>
    Implement all agreed fixes:
    1. Blockchain connectors: implement generic RPC client pattern where possible
    2. Dashboard connectors: implement data serialization and push
    3. All other connector strategies: ensure they establish real connections
    4. Properly document all approved guards with XML doc comments

    Rescan and build: `dotnet build Plugins/DataWarehouse.Plugins.UltimateConnector/`
  </action>
  <verify>Rescan clean, build succeeds, user confirms</verify>
  <done>All gaps closed, plugin builds clean</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Write Wiring Document</name>
  <files>.planning/phases/90.5-production-code-review/wiring/08-connector-wiring.md</files>
  <action>
    Document: All connector types, protocol handling, connection pooling, retry logic, external system integration patterns, message bus notifications for connection events.
  </action>
  <verify>User reviews wiring document</verify>
  <done>Wiring document complete, approved by user</done>
</task>

</tasks>

<verification>
- Zero unexplained throws remaining
- All guards documented with justification
- Plugin builds clean
- Wiring document complete
</verification>

<success_criteria>
UltimateConnector is 100% production-ready. All connector strategies work or have documented capability boundaries. Wiring document complete.
</success_criteria>

<output>
After completion, create `.planning/phases/90.5-production-code-review/90.5-08-SUMMARY.md`
</output>
