---
phase: 90.5-production-code-review
plan: 16
type: manual
wave: 3
depends_on: ["90.5-04"]
files_modified:
  - Plugins/DataWarehouse.Plugins.UniversalFabric/
  - Plugins/DataWarehouse.Plugins.UniversalObservability/
  - Plugins/DataWarehouse.Plugins.UltimateIntelligence/
autonomous: false

must_haves:
  truths:
    - "UniversalFabric networking strategies all function"
    - "UniversalObservability metrics, traces, and logs are real"
    - "UltimateIntelligence ML strategies have real implementations"
    - "No stub or no-op code paths remain in any Universal/Intelligence plugin"
    - "Wiring document explains how observability, fabric, and intelligence cross-cut other plugins"
  artifacts:
    - path: ".planning/phases/90.5-production-code-review/wiring/16-universal-plugins-wiring.md"
      provides: "Complete wiring documentation for Universal and Intelligence plugins"
  key_links:
    - from: "Plugins/DataWarehouse.Plugins.UniversalObservability/"
      to: "DataWarehouse.Kernel"
      via: "Observability hooks in kernel and all plugins"
---

<objective>
Production Code Review and Gap Closure for Universal* and UltimateIntelligence plugins.

Purpose: These are cross-cutting plugins that provide observability, networking fabric, and intelligence to the entire system. Gaps here mean blind spots in monitoring and broken inter-node communication.

Output: Zero-gap Universal/Intelligence plugins with comprehensive wiring documentation.
</objective>

<context>
@.planning/PROJECT.md
@.planning/PLUGIN-CATALOG.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 1: Systematic Scan of Universal/Intelligence Plugins</name>
  <files>
    Plugins/DataWarehouse.Plugins.UniversalFabric/
    Plugins/DataWarehouse.Plugins.UniversalObservability/
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/
  </files>
  <action>

    **MANDATORY PER-FILE REPORTING RULE:**
    Every single .cs file in the project directory MUST be individually listed in the findings report. No exceptions, no summarization across files. For each file report:
    - Full file path and total line count
    - Every finding (stub, no-op, gap, fake payload, TODO) with exact line number(s) and code snippet
    - If the file has zero issues, explicitly list it as: "filename.cs (N lines) â€” CLEAN, no issues"
    
    Do NOT skip any file. Do NOT group files together. Do NOT say "similar pattern in X files".
    Go through every line of code in every file. We are closing all gaps once and for all.
    Perform exhaustive scan of ALL three plugins for:
    1. NotImplementedException / NotSupportedException throws
    2. Task.CompletedTask / Task.FromResult no-ops
    3. Fake metrics, dummy traces, placeholder logs
    4. ML strategies that return random/constant values instead of real inference
    5. Network strategies that don't actually send/receive
    6. TODO/FIXME comments

    Present findings grouped by plugin, then by subsystem.
  </action>
  <verify>User reviews findings and approves fix plan</verify>
  <done>Complete inventory of all three plugins presented to user</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Implement Fixes</name>
  <files>
    Plugins/DataWarehouse.Plugins.UniversalFabric/
    Plugins/DataWarehouse.Plugins.UniversalObservability/
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/
  </files>
  <action>
    Implement all fixes across all three plugins:

    **UniversalFabric**: Network strategies must handle real TCP/UDP/gRPC communication patterns
    **UniversalObservability**: Metrics must collect real values, traces must propagate context, logs must capture real events
    **UltimateIntelligence**: ML strategies must perform real inference (even if using simple algorithms where full ML isn't available)

    Build each: `dotnet build Plugins/DataWarehouse.Plugins.UniversalFabric/ && dotnet build Plugins/DataWarehouse.Plugins.UniversalObservability/ && dotnet build Plugins/DataWarehouse.Plugins.UltimateIntelligence/`
  </action>
  <verify>Rescan clean for all three, builds succeed</verify>
  <done>All gaps closed across all three plugins</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Write Wiring Document</name>
  <files>.planning/phases/90.5-production-code-review/wiring/16-universal-plugins-wiring.md</files>
  <action>
    Document for all three plugins:
    - UniversalFabric: Network topology, protocol handlers, service mesh integration, inter-node communication
    - UniversalObservability: Metrics pipeline, trace propagation, log aggregation, dashboard integration
    - UltimateIntelligence: ML model registry, inference pipeline, training data flow, feature store
    - Cross-plugin integration: How observability monitors fabric, how intelligence uses observability data
  </action>
  <verify>User reviews wiring document</verify>
  <done>Wiring document complete for all three plugins, approved by user</done>
</task>

</tasks>

<verification>
- Zero stubs/no-ops in any of the three plugins
- All plugins build clean
- Wiring document covers all three plugins and their interactions
</verification>

<success_criteria>
UniversalFabric, UniversalObservability, and UltimateIntelligence are 100% production-ready. Wiring document complete.
</success_criteria>

<output>
After completion, create `.planning/phases/90.5-production-code-review/90.5-16-SUMMARY.md`
</output>
