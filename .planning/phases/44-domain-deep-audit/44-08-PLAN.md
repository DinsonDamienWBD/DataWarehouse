---
phase: 44
plan: 44-08
title: "Domain Audit: CLI/GUI Dynamic Intelligence (Domain 17)"
depends_on: []
---

# Plan 44-08: Domain Audit: CLI/GUI Dynamic Intelligence (Domain 17)

## Goal
Conduct hostile review of CLI and GUI dynamic intelligence. Verify 3 operating modes (Live, Install, Configure), dynamic capability discovery, plugin hot-reload → new commands appear, plugin unload → commands disappear, NLP intent routing, tab completion, install wizard, and dashboard panels.

## Approach
1. **Read Actual Application Code**:
   - `DataWarehouse.CLI/` — command-line interface
   - `DataWarehouse.GUI/` — graphical user interface (dashboard)

2. **Operating Mode Verification (3 modes)**:
   - **Live Mode**:
     - No service daemon (kernel + plugins in-memory)
     - CLI: `dw --live` or GUI: launch without service
     - Verify all features work (no service dependency)
     - Verify data persists (in-memory or temp storage)
   - **Install Mode**:
     - Service daemon runs as system service
     - CLI connects to service via IPC/gRPC
     - GUI connects to service via WebSocket/gRPC
     - Verify service auto-starts on boot
     - Verify multiple clients can connect
   - **Configure Mode**:
     - Configuration UI (wizard, settings panel)
     - No data access (read-only mode)
     - Verify config changes persist (file, registry, database)
     - Verify config validation (reject invalid values)

3. **Dynamic Capability Discovery Verification**:
   - Read capability discovery code
   - Verify CLI/GUI queries kernel for available plugins
   - Verify kernel returns plugin metadata:
     - Plugin name, version, description
     - Capabilities (commands, operations, features)
     - Parameters (required, optional, types)
   - Verify CLI/GUI builds interface dynamically:
     - CLI: generate help text, auto-complete entries
     - GUI: generate menu items, panels, forms

4. **Plugin Hot-Reload Verification (new commands appear)**:
   - Start CLI/GUI
   - Load new plugin at runtime (via Admin → Install Plugin or `dw plugin install`)
   - Verify new commands appear:
     - CLI: `dw help` shows new commands
     - CLI: tab completion includes new commands
     - GUI: menu shows new items, dashboard shows new panels
   - Execute new command, verify it works
   - Verify no restart required

5. **Plugin Unload Verification (commands disappear)**:
   - Unload plugin at runtime (via Admin → Uninstall Plugin or `dw plugin uninstall`)
   - Verify commands disappear:
     - CLI: `dw help` no longer shows commands
     - CLI: tab completion no longer includes commands
     - GUI: menu items removed, dashboard panels removed
   - Attempt to execute removed command, verify error (command not found)
   - Verify no restart required

6. **NLP Intent Routing Verification**:
   - Read NLP intent parser code
   - Verify natural language input:
     - "show me all files from yesterday" → `dw list --created-after yesterday`
     - "compress everything older than 30 days" → `dw compress --older-than 30d`
     - "encrypt sensitive data" → `dw encrypt --tag sensitive`
   - Verify intent extraction:
     - Action: show, compress, encrypt
     - Object: files, data
     - Filter: yesterday, older than 30 days, sensitive
   - Verify command generation (intent → CLI command)
   - Verify execution (CLI command → plugin operation)
   - Verify ambiguity handling (multiple interpretations → ask user)

7. **Tab Completion Verification**:
   - Read tab completion code (bash, zsh, powershell)
   - Verify command completion: `dw <TAB>` → list all commands
   - Verify subcommand completion: `dw list <TAB>` → list all list subcommands
   - Verify option completion: `dw list --<TAB>` → list all options
   - Verify path completion: `dw list /home/<TAB>` → list files in /home
   - Verify dynamic completion (plugin commands included)

8. **Install Wizard Verification**:
   - Read install wizard code (GUI or CLI)
   - Verify wizard workflow:
     - Welcome screen
     - License agreement (accept/decline)
     - Installation path selection
     - Component selection (plugins to install)
     - Configuration (storage backend, network settings)
     - Progress (copy files, register service, configure)
     - Completion (launch service, open dashboard)
   - Verify validation at each step (reject invalid input)
   - Verify rollback on failure (undo partial installation)

9. **Dashboard Panel Verification**:
   - Read dashboard code (GUI)
   - Verify dynamic panels:
     - Storage panel: shows available backends, usage
     - Security panel: shows encryption status, key rotation
     - Replication panel: shows sync status, lag
     - Performance panel: shows throughput, latency
   - Verify panel updates in real-time (WebSocket, SignalR)
   - Verify plugin panels (each plugin can contribute panels)
   - Verify panel removal when plugin unloaded

## Scope
**In Scope:**
- Domain 17: CLI/GUI Dynamic Intelligence
- DataWarehouse.CLI, DataWarehouse.GUI
- 3 operating modes (Live, Install, Configure)
- Dynamic capability discovery
- Plugin hot-reload (commands appear)
- Plugin unload (commands disappear)
- NLP intent routing
- Tab completion
- Install wizard
- Dashboard panels

**Out of Scope:**
- Domains 1-13 — Plans 44-01 through 44-07
- Domains 14-16 — Plan 44-09

## Success Criteria
- [ ] Live Mode verified (no service, in-memory, all features work)
- [ ] Install Mode verified (service daemon, auto-start, multiple clients)
- [ ] Configure Mode verified (config UI, validation, persistence)
- [ ] Dynamic capability discovery verified (query kernel, return metadata, build interface)
- [ ] Plugin hot-reload verified (install plugin → commands appear → execute works)
- [ ] Plugin unload verified (uninstall plugin → commands disappear → error on execute)
- [ ] No restart required (hot-reload and unload)
- [ ] NLP intent routing verified (natural language → CLI command → execution)
- [ ] Ambiguity handling verified (multiple interpretations → ask user)
- [ ] Tab completion verified (commands, subcommands, options, paths, dynamic)
- [ ] Install wizard verified (workflow, validation, rollback on failure)
- [ ] Dashboard panels verified (dynamic, real-time updates, plugin panels, removal)
- [ ] All findings documented with file path, line number, severity

## Output
- `AUDIT-FINDINGS-02-domain-17.md`: Findings for CLI/GUI dynamic intelligence domain
  - Operating mode verification results (Live, Install, Configure)
  - Dynamic capability discovery results
  - Plugin hot-reload/unload verification results
  - NLP intent routing verification results
  - Tab completion verification results
  - Install wizard verification results
  - Dashboard panel verification results
  - All gaps, stubs, placeholders, incomplete implementations
  - Severity: CRITICAL (mode failure), HIGH (dynamic capability broken), MEDIUM (UX gaps), LOW (minor)
