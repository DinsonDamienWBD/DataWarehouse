---
phase: 52-clean-house
plan: 05
type: execute
wave: 2
depends_on: ["52-01", "52-02", "52-03"]
files_modified:
  - DataWarehouse.Tests/Plugins/UltimateDatabaseProtocolTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDatabaseStorageTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataCatalogTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataFabricTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataFormatTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataGovernanceTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataIntegrationTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataIntegrityTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataLakeTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataLineageTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataManagementTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataMeshTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataPrivacyTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataProtectionTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataQualityTests.cs
  - DataWarehouse.Tests/Plugins/UltimateDataTransitTests.cs
  - DataWarehouse.Tests/DataWarehouse.Tests.csproj
autonomous: true

must_haves:
  truths:
    - "Zero Assert.True(true) placeholders in any of the 16 data-domain test files"
    - "Each test file has at least 3 meaningful behavior tests"
    - "All tests pass"
    - "Build compiles with 0 errors, 0 warnings"
  artifacts:
    - path: "DataWarehouse.Tests/Plugins/UltimateDatabaseProtocolTests.cs"
      provides: "Real behavior tests for database protocol strategies"
    - path: "DataWarehouse.Tests/Plugins/UltimateDataIntegrityTests.cs"
      provides: "Real behavior tests for data integrity hash providers"
    - path: "DataWarehouse.Tests/Plugins/UltimateDataFormatTests.cs"
      provides: "Real behavior tests for data format strategies"
  key_links:
    - from: "DataWarehouse.Tests/*.cs"
      to: "Plugin assemblies"
      via: "ProjectReference in csproj"
      pattern: "ProjectReference"
---

<objective>
Replace placeholder tests batch 2: Data domain plugins (16 test files).

Purpose: 16 data-domain test files contain only `Assert.True(true)` placeholder assertions. Each must be replaced with real behavior tests that verify plugin instantiation, strategy capabilities, and data operations.

Output: 16 test files with real tests, all passing.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/PLUGIN-CATALOG.md
@DataWarehouse.Tests/DataWarehouse.Tests.csproj
@.planning/phases/52-clean-house/52-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace data storage and protocol test placeholders</name>
  <files>
    DataWarehouse.Tests/Plugins/UltimateDatabaseProtocolTests.cs
    DataWarehouse.Tests/Plugins/UltimateDatabaseStorageTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataCatalogTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataFabricTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataFormatTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataIntegrationTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataIntegrityTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataLakeTests.cs
    DataWarehouse.Tests/DataWarehouse.Tests.csproj
  </files>
  <action>
    FIRST: Add any missing ProjectReferences to DataWarehouse.Tests.csproj for: UltimateDatabaseProtocol, UltimateDatabaseStorage, UltimateDataCatalog, UltimateDataFabric, UltimateDataFormat, UltimateDataIntegration, UltimateDataIntegrity, UltimateDataLake. Skip any already referenced. Check existing references from Plan 04 first.

    For each test file, read the corresponding plugin source to understand public types, then write 3-5 real tests:

    UltimateDatabaseProtocolTests: Test protocol strategy instantiation (MySQL, PostgreSQL, Cassandra). Verify StrategyId, Name. Test SQL parsing or query building if public methods available.

    UltimateDatabaseStorageTests: Test database storage strategy instantiation. Verify capabilities, tier settings.

    UltimateDataCatalogTests: Test catalog types, metadata creation, schema registration.

    UltimateDataFabricTests: Test fabric mesh topology, data plane configuration.

    UltimateDataFormatTests: Test format strategies (Parquet, Arrow, ORC). Verify StrategyId, format capabilities, serialization support flags.

    UltimateDataIntegrationTests: Test ETL pipeline types, mapping strategy instantiation.

    UltimateDataIntegrityTests: Test hash providers (SHA256, Blake2, xxHash). Verify provider names, hash computation on known inputs. The UltimateDataIntegrity plugin has 15 hash providers - test at least 3.

    UltimateDataLakeTests: Test lake zone types, partition strategies.

    Keep [Trait("Category", "Unit")]. Test what's testable without kernel context. Focus on type instantiation, property verification, and pure function testing.
  </action>
  <verify>
    grep -rn "Assert.True(true)" DataWarehouse.Tests/Plugins/UltimateDatabaseProtocolTests.cs DataWarehouse.Tests/Plugins/UltimateDatabaseStorageTests.cs DataWarehouse.Tests/Plugins/UltimateDataCatalogTests.cs DataWarehouse.Tests/Plugins/UltimateDataFabricTests.cs DataWarehouse.Tests/Plugins/UltimateDataFormatTests.cs DataWarehouse.Tests/Plugins/UltimateDataIntegrationTests.cs DataWarehouse.Tests/Plugins/UltimateDataIntegrityTests.cs DataWarehouse.Tests/Plugins/UltimateDataLakeTests.cs
    # Should return zero results
    dotnet test DataWarehouse.Tests/ --filter "Category=Unit" --no-restore 2>&1 | tail -5
  </verify>
  <done>Zero Assert.True(true) in these 8 test files. Each has 3+ real behavior tests. All pass.</done>
</task>

<task type="auto">
  <name>Task 2: Replace data governance and operations test placeholders</name>
  <files>
    DataWarehouse.Tests/Plugins/UltimateDataLineageTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataManagementTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataMeshTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataPrivacyTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataProtectionTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataQualityTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataTransitTests.cs
    DataWarehouse.Tests/Plugins/UltimateDataGovernanceTests.cs
    DataWarehouse.Tests/DataWarehouse.Tests.csproj
  </files>
  <action>
    FIRST: Add any missing ProjectReferences to DataWarehouse.Tests.csproj for: UltimateDataLineage, UltimateDataManagement, UltimateDataMesh, UltimateDataPrivacy, UltimateDataProtection, UltimateDataQuality, UltimateDataTransit, UltimateDataGovernance.

    For each test file, read the corresponding plugin source, then write 3-5 real tests:

    UltimateDataLineageTests: Test lineage node types, graph construction, provenance tracking types.

    UltimateDataManagementTests: Test data lifecycle types, retention policy configuration, indexing strategy instantiation. The plugin has multiple index strategies (Composite, Graph, Spatial, Temporal) - test at least 2.

    UltimateDataMeshTests: Test mesh domain types, data product metadata.

    UltimateDataPrivacyTests: Test masking strategies. Verify they can mask/unmask sample data. Test PII detection types.

    UltimateDataProtectionTests: Test backup strategy types, recovery point objectives, protection policy configuration.

    UltimateDataQualityTests: Test quality scoring strategies. Verify score computation on sample data.

    UltimateDataTransitTests: Test transit strategy instantiation (FTP, HTTP/2). Verify protocol identifiers and capabilities.

    UltimateDataGovernanceTests: Test governance policy types, compliance rule configuration.

    Keep [Trait("Category", "Unit")]. Focus on testable behavior without external dependencies.
  </action>
  <verify>
    grep -rn "Assert.True(true)" DataWarehouse.Tests/Plugins/UltimateDataLineageTests.cs DataWarehouse.Tests/Plugins/UltimateDataManagementTests.cs DataWarehouse.Tests/Plugins/UltimateDataMeshTests.cs DataWarehouse.Tests/Plugins/UltimateDataPrivacyTests.cs DataWarehouse.Tests/Plugins/UltimateDataProtectionTests.cs DataWarehouse.Tests/Plugins/UltimateDataQualityTests.cs DataWarehouse.Tests/Plugins/UltimateDataTransitTests.cs DataWarehouse.Tests/Plugins/UltimateDataGovernanceTests.cs
    # Should return zero results
    dotnet test DataWarehouse.Tests/ --filter "Category=Unit" --no-restore 2>&1 | tail -5
  </verify>
  <done>Zero Assert.True(true) in these 8 test files. Each has 3+ real behavior tests. All pass.</done>
</task>

</tasks>

<verification>
grep -rn "Assert.True(true)" DataWarehouse.Tests/Plugins/UltimateDatabase* DataWarehouse.Tests/Plugins/UltimateData*
# Must return zero results
dotnet test DataWarehouse.Tests/ --filter "Category=Unit" --no-restore 2>&1 | tail -5
# All tests must pass
</verification>

<success_criteria>
- Zero Assert.True(true) placeholders in all 16 data-domain test files
- Each test file has at least 3 real behavior tests
- All necessary ProjectReferences added to DataWarehouse.Tests.csproj
- All tests pass
- Build: 0 errors, 0 warnings
</success_criteria>

<output>
After completion, create `.planning/phases/52-clean-house/52-05-SUMMARY.md`
</output>
