---
phase: 12-aeds-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - Plugins/DataWarehouse.Plugins.AedsCore/AedsCorePlugin.cs
  - Plugins/DataWarehouse.Plugins.AedsCore/ServerDispatcherPlugin.cs
  - Plugins/DataWarehouse.Plugins.AedsCore/ClientCourierPlugin.cs
  - Plugins/DataWarehouse.Plugins.AedsCore/Http2DataPlanePlugin.cs
  - Metadata/TODO.md
autonomous: true

must_haves:
  truths:
    - "AedsCorePlugin validates manifests with signature verification"
    - "ServerDispatcherPlugin queues jobs and resolves targets (unicast/broadcast/multicast)"
    - "ClientCourierPlugin implements sentinel/executor/watchdog client-side components"
    - "Http2DataPlanePlugin transfers payloads via HTTP/2 with progress reporting"
    - "All 4 core plugins compile without errors and have no TODOs or NotImplementedExceptions"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.AedsCore/AedsCorePlugin.cs"
      provides: "Manifest validation, signature verification, priority scoring"
      min_lines: 300
    - path: "Plugins/DataWarehouse.Plugins.AedsCore/ServerDispatcherPlugin.cs"
      provides: "Job queue, client registration, channel management, target resolution"
      min_lines: 400
    - path: "Plugins/DataWarehouse.Plugins.AedsCore/ClientCourierPlugin.cs"
      provides: "Sentinel (listen), Executor (execute), Watchdog (monitor files)"
      min_lines: 200
    - path: "Plugins/DataWarehouse.Plugins.AedsCore/Http2DataPlanePlugin.cs"
      provides: "HTTP/2 data plane transport with chunked transfers"
      min_lines: 150
  key_links:
    - from: "AedsCorePlugin.VerifySignatureAsync"
      to: "UltimateKeyManagement"
      via: "message bus for key retrieval"
      pattern: "TODO.*cryptographic verification"
    - from: "ServerDispatcherPlugin.ProcessJobAsync"
      to: "IControlPlaneTransport.SendManifestAsync"
      via: "control plane for manifest delivery"
      pattern: "simulate delivery|Control Plane"
    - from: "ClientCourierPlugin sentinel"
      to: "IControlPlaneTransport.ReceiveManifestsAsync"
      via: "control plane listening"
      pattern: "await foreach.*ReceiveManifestsAsync"
---

<objective>
Verify AEDS core plugins (AedsCore, ServerDispatcher, ClientCourier, Http2DataPlane) are production-ready with zero TODOs, zero placeholders, and all critical integration points wired correctly.

Purpose: Validate existing AEDS foundation before building control/data plane transports and extensions
Output: Verification report confirming 4 core plugins are complete OR list of gaps to implement
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-aeds-system/12-RESEARCH.md

# Existing AEDS SDK contracts
@DataWarehouse.SDK/Distribution/IAedsCore.cs
@DataWarehouse.SDK/Contracts/AedsPluginBases.cs

# Existing core plugins
@Plugins/DataWarehouse.Plugins.AedsCore/AedsCorePlugin.cs
@Plugins/DataWarehouse.Plugins.AedsCore/ServerDispatcherPlugin.cs
@Plugins/DataWarehouse.Plugins.AedsCore/ClientCourierPlugin.cs
@Plugins/DataWarehouse.Plugins.AedsCore/Http2DataPlanePlugin.cs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify AEDS core plugins production-readiness</name>
  <files>
    Plugins/DataWarehouse.Plugins.AedsCore/AedsCorePlugin.cs
    Plugins/DataWarehouse.Plugins.AedsCore/ServerDispatcherPlugin.cs
    Plugins/DataWarehouse.Plugins.AedsCore/ClientCourierPlugin.cs
    Plugins/DataWarehouse.Plugins.AedsCore/Http2DataPlanePlugin.cs
  </files>
  <action>
Inspect all 4 core AEDS plugins for production-readiness violations:

**Rule 13 violations to find:**
- TODO comments indicating incomplete implementations (especially AedsCorePlugin.VerifySignatureAsync line 223)
- NotImplementedException throws
- Hardcoded placeholders ("simulate delivery", "TODO: Implement", empty method bodies)
- Missing error handling (try-catch without fallback)
- Synchronous waits (Task.Wait(), .Result) blocking async operations

**Critical gaps to identify:**
1. AedsCorePlugin.VerifySignatureAsync: Research says "TODO: Implement actual cryptographic verification" - needs integration with UltimateKeyManagement (T94) via message bus
2. ServerDispatcherPlugin.ProcessJobAsync line 138: "Simulate delivery" comment suggests Control Plane integration is stubbed
3. ClientCourierPlugin sentinel: Does it actually listen via IControlPlaneTransport.ReceiveManifestsAsync or is it stubbed?
4. Http2DataPlanePlugin: Does it implement chunked transfers with integrity verification per PayloadDescriptor.ChunkHashes?

**Multicast targeting:** ServerDispatcherPlugin.ResolveTargetsAsync line 277 has TODO for multicast - confirm if needed for Phase 12 or deferrable.

**Verification steps:**
1. Grep each file for: `TODO|NotImplementedException|throw new NotImplementedException|simulate|placeholder|stub`
2. Check integration points: Does signature verification call UltimateKeyManagement? Does dispatcher send via control plane?
3. Verify error handling: All async methods have try-catch with meaningful error recovery
4. Check Policy Engine: Does ClientCourierPlugin integrate IClientPolicyEngine or is it unimplemented?

If all 4 plugins are production-ready → mark T60 sub-tasks [x] in TODO.md.
If gaps exist → document them clearly for implementation (do NOT implement in this plan).
  </action>
  <verify>
Build solution: `dotnet build Plugins/DataWarehouse.Plugins.AedsCore/DataWarehouse.Plugins.AedsCore.csproj`
- Expect: 0 errors, 0 warnings
Grep for violations: `rg "TODO|NotImplementedException" Plugins/DataWarehouse.Plugins.AedsCore/`
- Report: Lines with violations and their context
Test manifest validation: Run unit tests for AedsCorePlugin if they exist
  </verify>
  <done>
Production-readiness report written to 12-01-VERIFICATION.md with:
- Section 1: Violations found (TODOs, stubs, missing integrations)
- Section 2: Each plugin's status (Complete / Incomplete with gap list)
- Section 3: Integration points status (KeyManagement wiring, Control Plane wiring, Policy Engine wiring)
- Section 4: Recommendation (all complete → proceed to 12-02, or gaps → list what to implement)
  </done>
</task>

<task type="auto">
  <name>Task 2: Update TODO.md with verification findings</name>
  <files>Metadata/TODO.md</files>
  <action>
Update Task 60 (AEDS Core Infrastructure) completion status in TODO.md based on verification findings from Task 1.

**If all 4 plugins are production-ready:**
- Confirm T60 sub-task checkboxes accurately reflect completion (e.g., `- [x] AEDS.C1: Core orchestration plugin`)
- Add verification timestamp: `**Verified:** 2026-02-11 - All 4 core plugins production-ready (12-01-VERIFICATION.md)`

**If gaps exist:**
- Update relevant sub-task checkboxes to `[ ]` (incomplete)
- Add note: `**Status note:** Gaps identified in 12-01-VERIFICATION.md - signature verification, control plane integration pending`

**Specific sub-tasks to verify:**
- AEDS.C1: AedsCorePlugin (manifest validation, signature verification)
- AEDS.C2: ServerDispatcherPlugin (job queue, targeting)
- AEDS.C3: ClientCourierPlugin (sentinel, executor, watchdog)
- AEDS.CP1: Http2DataPlanePlugin (HTTP/2 transport) → under Data Plane section
  </action>
  <verify>
Read updated TODO.md: `rg -A 5 "Task 60: AEDS Core" Metadata/TODO.md`
- Expect: Checkboxes match verification findings
- Expect: Timestamp or status note added
  </verify>
  <done>
TODO.md updated with verification findings. If all plugins complete, T60 confirmed [x]. If gaps exist, incomplete sub-tasks marked [ ] with reference to 12-01-VERIFICATION.md.
  </done>
</task>

</tasks>

<verification>
- [ ] Build passes for AedsCore plugin project (0 errors)
- [ ] 12-01-VERIFICATION.md exists with production-readiness assessment for all 4 plugins
- [ ] TODO.md Task 60 status updated based on verification findings
- [ ] All TODOs documented with integration requirements (KeyManagement, Control Plane, Policy Engine)
</verification>

<success_criteria>
Phase 12 Plan 01 succeeds when:
1. All 4 core AEDS plugins inspected for Rule 13 violations (TODOs, stubs, NotImplementedException)
2. Integration gaps documented (signature verification → KeyManagement, manifest delivery → Control Plane)
3. 12-01-VERIFICATION.md provides clear recommendation: proceed to 12-02 OR list gaps to implement
4. TODO.md Task 60 status reflects verification findings with timestamp
5. Build passes with 0 errors for AedsCore plugin project
</success_criteria>

<output>
After completion, create `.planning/phases/12-aeds-system/12-01-SUMMARY.md` with:
- Verification findings (4 plugins assessed)
- Integration gap analysis (KeyManagement, Control Plane, Policy Engine wiring status)
- Recommendation (proceed to transport implementation OR close identified gaps)
- Updated TODO.md checkboxes for T60 sub-tasks
</output>
