---
phase: 14-other-plugins
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateSustainability/UltimateSustainabilityPlugin.cs
  - Plugins/DataWarehouse.Plugins.UltimateSustainability/Strategies/**/*.cs
autonomous: true

must_haves:
  truths:
    - "UltimateSustainability plugin loads and discovers all 45+ strategies"
    - "Carbon awareness, energy optimization, green scheduling strategies are production-ready"
    - "Message bus integration works for sustainability.* topics"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateSustainability/UltimateSustainabilityPlugin.cs"
      provides: "Main plugin orchestrator with workload recommendations"
      min_lines: 400
    - path: "Plugins/DataWarehouse.Plugins.UltimateSustainability/GreenStrategyBase.cs"
      provides: "Strategy base class for green computing"
      contains: "abstract class GreenStrategyBase"
  key_links:
    - from: "UltimateSustainabilityPlugin.cs"
      to: "Strategies"
      via: "auto-discovery"
      pattern: "DiscoverAndRegisterStrategies"
    - from: "UltimateSustainabilityPlugin.cs"
      to: "MessageBus"
      via: "recommendation requests"
      pattern: "sustainability\\.recommendation\\.request"
---

<objective>
Verify and complete UltimateSustainability plugin (T107) with all 45+ green computing strategies production-ready.

Purpose: Ensure consolidated sustainability features (carbon awareness, energy optimization, battery management, thermal control) are fully functional.

Output: Production-ready UltimateSustainability plugin verified and passing build.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-other-plugins/14-RESEARCH.md
@Plugins/DataWarehouse.Plugins.UltimateSustainability/UltimateSustainabilityPlugin.cs
@Plugins/DataWarehouse.Plugins.UltimateSustainability/GreenStrategyBase.cs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify UltimateSustainability implementation completeness</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateSustainability/**/*.cs
  </files>
  <action>
Scan all 50 C# files in UltimateSustainability plugin for production-readiness:

1. **Forbidden pattern detection:**
   - `grep -r "throw new NotImplementedException"` → MUST return 0 matches (already verified: 0 found)
   - `grep -r "// TODO\|// FIXME\|// PLACEHOLDER"` → flag any found
   - `grep -r "catch { }"` → flag empty catch blocks

2. **Strategy completeness (45+ strategies across 8 categories):**
   - Carbon Awareness strategies: Verify carbon intensity API integration or calculation logic
   - Energy Optimization strategies: Verify power usage profiling and optimization algorithms
   - Battery Awareness strategies: Verify battery level detection and adaptive behavior
   - Thermal Management strategies: Verify temperature monitoring and cooling strategies
   - Resource Efficiency strategies: Verify CPU/memory/disk usage optimization
   - Scheduling strategies: Verify workload scheduling based on renewable energy availability
   - Metrics strategies: Verify PUE, WUE, carbon footprint calculation
   - Cloud Optimization strategies: Verify cloud provider sustainability features integration

3. **Green computing standards verification:**
   - Carbon intensity data sources: Verify integration with real APIs (WattTime, ElectricityMap, or calculation)
   - Energy Star compliance: Verify power efficiency calculations follow standards
   - PUE/WUE metrics: Verify formulas match industry definitions
   - Science Based Targets: Verify carbon tracking aligns with SBTi methodology

4. **Workload recommendation system:**
   - Verify `GetWorkloadRecommendationAsync` method provides real recommendations
   - Verify recommendations consider carbon intensity, energy cost, battery state
   - Verify message bus subscription to `sustainability.recommendation.request` works

5. **SDK contract adherence:**
   - Verify plugin extends `IntelligenceAwarePluginBase`
   - Verify strategies extend `GreenStrategyBase`
   - Verify no direct plugin references (only SDK)

6. **Build verification:**
   - Run `dotnet build` on UltimateSustainability.csproj
   - Verify zero build errors

Report findings: Confirm all 45+ strategies implement real green computing logic with proper calculations and integrations.
  </action>
  <verify>
```bash
cd "C:/Temp/DataWarehouse/DataWarehouse/Plugins/DataWarehouse.Plugins.UltimateSustainability"
grep -r "NotImplementedException" . && echo "FAIL: Found NotImplementedException" || echo "PASS: No NotImplementedException"
grep -r "PUE\|WUE\|carbon.*intensity\|battery.*level" . | wc -l  # Should be >0 if using real metrics
dotnet build --no-restore 2>&1 | grep -E "(error|Error)" && echo "FAIL: Build errors" || echo "PASS: Build clean"
```
  </verify>
  <done>
- Zero NotImplementedException in 45+ strategies
- All sustainability strategies (carbon, energy, battery, thermal, etc.) have real implementations
- Green computing metrics (PUE, WUE, carbon intensity) use correct formulas
- Workload recommendation system verified
- Build passes with zero errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Mark T107 complete in TODO.md and commit</name>
  <files>
    Metadata/TODO.md
  </files>
  <action>
Update TODO.md to mark T107 (UltimateSustainability) as verified:

1. Find line with `| **6.8** | T107 | Ultimate Sustainability |`
2. Verify current status shows `[x] Complete - 45 strategies`
3. Confirm verification from Task 1 validates production-readiness
4. If any issues found, document them; otherwise confirm status accurate

Commit changes:
```bash
node C:/Users/ddamien/.claude/get-shit-done/bin/gsd-tools.js commit "docs(14-other-plugins): verify T107 UltimateSustainability production-ready" --files Metadata/TODO.md
```
  </action>
  <verify>
```bash
grep -A 2 "T107" "C:/Temp/DataWarehouse/DataWarehouse/Metadata/TODO.md" | grep -E "\[x\]"
git log -1 --oneline | grep "T107"
```
  </verify>
  <done>
- T107 status in TODO.md reflects verification results
- Changes committed to git
- UltimateSustainability plugin confirmed production-ready with 45+ strategies
  </done>
</task>

</tasks>

<verification>
1. Run `dotnet build` on UltimateSustainability.csproj → zero errors
2. Grep for forbidden patterns returns zero matches
3. Green computing metrics (PUE, WUE, carbon intensity) verified
4. TODO.md updated and committed
</verification>

<success_criteria>
- UltimateSustainability plugin (50 files, 45+ strategies) verified production-ready
- All sustainability strategies implement real green computing logic
- Carbon intensity, energy optimization, battery awareness logic confirmed
- Workload recommendation system works correctly
- Build passes cleanly
- TODO.md updated and committed
</success_criteria>

<output>
After completion, create `.planning/phases/14-other-plugins/14-04-SUMMARY.md`
</output>
