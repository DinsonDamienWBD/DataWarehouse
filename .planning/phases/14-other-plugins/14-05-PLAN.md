---
phase: 14-other-plugins
plan: 05
type: execute
wave: 2
depends_on: [14-01, 14-02, 14-03, 14-04]
files_modified:
  - Metadata/TODO.md
  - .planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md
autonomous: true

must_haves:
  truths:
    - "All 127+ deprecated plugins are identified and categorized"
    - "Dependency analysis confirms no active references to deprecated plugins"
    - "Phase 18 cleanup is scoped and ready for execution"
  artifacts:
    - path: ".planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md"
      provides: "Comprehensive list of plugins to remove in Phase 18"
      min_lines: 50
  key_links:
    - from: "Deprecated plugins"
      to: "Ultimate/Universal plugins"
      via: "feature consolidation"
      pattern: "absorbed into"
---

<objective>
Scope plugin deprecation and cleanup (T108) for Phase 18 execution - identify all deprecated plugins and analyze dependencies.

Purpose: Prepare comprehensive deprecation analysis so Phase 18 can safely remove 127+ legacy plugins without breaking the system. This plan does NOT delete plugins, only identifies and documents them.

Output: DEPRECATION-ANALYSIS.md document ready for Phase 18 execution.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-other-plugins/14-RESEARCH.md
@Metadata/TODO.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Identify all deprecated plugins and analyze dependencies</name>
  <files>
    .planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md
  </files>
  <action>
Create comprehensive deprecation analysis for Phase 18:

1. **Count current plugins:**
   ```bash
   # Count plugin projects in solution
   grep -c '<Project Include="Plugins/' DataWarehouse.slnx

   # Count plugin directories on disk
   ls -d Plugins/DataWarehouse.Plugins.* | wc -l
   ```

2. **Identify consolidated plugins (per TODO.md T108.B):**
   - T108.B10: Dashboards (9 old plugins) → UniversalDashboards (T101)
   - T108.B14: Resilience (7 old plugins) → UltimateResilience (T105)
   - T108.B15: Deployment (7 old plugins) → UltimateDeployment (T106)
   - T108.B16: Sustainability (4 old plugins) → UltimateSustainability (T107)
   - T92.D: Compression (6 old plugins) → UltimateCompression
   - T91.I: RAID (12 old plugins) → UltimateRAID
   - T108.B21: DataConnectors → UltimateConnector (T125)
   - Other categories from T108 in TODO.md

3. **For each deprecated plugin, analyze:**
   ```bash
   # Search for project references TO the deprecated plugin
   grep -r "ProjectReference.*DeprecatedPluginName" --include="*.csproj"

   # Search for using statements
   grep -r "using DataWarehouse.Plugins.DeprecatedPluginName" --include="*.cs"

   # Search for message bus topics the plugin publishes
   grep -r "MessageTopics\." "Plugins/DataWarehouse.Plugins.DeprecatedPluginName/" --include="*.cs"
   ```

4. **Categorize plugins:**
   - **Safe to remove**: Zero references, features absorbed, [Obsolete] attribute present
   - **Needs migration**: Has active references, requires code updates before removal
   - **Keep**: Still in use, not yet consolidated

5. **Create DEPRECATION-ANALYSIS.md:**
   ```markdown
   # Plugin Deprecation Analysis for Phase 18

   **Generated:** 2026-02-11
   **Total plugins in solution:** {count}
   **Deprecated plugins identified:** {count}
   **Safe to remove immediately:** {count}
   **Requires migration first:** {count}

   ## Summary by Category

   ### Dashboards (9 plugins → UniversalDashboards)
   - [ ] Chronograf → SAFE (absorbed into T101)
   - [ ] ApacheSuperset → SAFE (absorbed into T101)
   - ...

   ### Resilience (7 plugins → UltimateResilience)
   - [ ] LoadBalancer → SAFE (absorbed into T105)
   - ...

   ### Deployment (7 plugins → UltimateDeployment)
   - [ ] BlueGreenDeployment → SAFE (absorbed into T106)
   - ...

   ### Sustainability (4 plugins → UltimateSustainability)
   - [ ] BatteryAware → SAFE (absorbed into T107)
   - ...

   ## Dependency Analysis

   ### Plugins with Active References
   {List any plugins that still have references}

   ### Message Bus Topic Dependencies
   {List any deprecated topics that need migration}

   ## Phase 18 Execution Plan

   1. Remove {N} safe plugins from DataWarehouse.slnx
   2. Delete {N} plugin directories from disk
   3. Migrate {N} plugins with active references
   4. Verify clean build after removal
   ```

6. **Verify no breaking changes:**
   - Confirm all Ultimate/Universal plugins (T90-T107, T125) are production-ready (verified in plans 01-04)
   - Confirm deprecated plugins have [Obsolete] attributes where applicable
   - List any plugins that need pre-removal migration

Do NOT delete any plugins in this task. Only analyze and document.
  </action>
  <verify>
```bash
# Verify analysis document exists
test -f ".planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md" && echo "PASS: Analysis document created" || echo "FAIL: Document missing"

# Verify it has content
wc -l ".planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md"  # Should be >50 lines
```
  </verify>
  <done>
- DEPRECATION-ANALYSIS.md created with comprehensive plugin list
- All 127+ deprecated plugins identified and categorized
- Dependency analysis complete (project refs, using statements, message bus topics)
- Plugins categorized as safe-to-remove vs. needs-migration
- Phase 18 execution plan documented
- Zero plugins deleted (analysis only)
  </done>
</task>

<task type="auto">
  <name>Task 2: Update TODO.md and commit deprecation analysis</name>
  <files>
    Metadata/TODO.md
    .planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md
  </files>
  <action>
Update TODO.md to reflect T108 scoping complete:

1. Find line with `| **7.1** | T108 | Plugin Deprecation & Cleanup |`
2. Update status from `[ ]` to `[~]` (in progress - scoped but not executed)
3. Add note: "Analysis complete in .planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md - execution deferred to Phase 18"

Commit changes:
```bash
node C:/Users/ddamien/.claude/get-shit-done/bin/gsd-tools.js commit "docs(14-other-plugins): scope T108 plugin deprecation for Phase 18" --files Metadata/TODO.md .planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md
```
  </action>
  <verify>
```bash
grep "T108" "C:/Temp/DataWarehouse/DataWarehouse/Metadata/TODO.md" | grep -E "\[~\]"
git log -1 --oneline | grep "T108"
test -f ".planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md"
```
  </verify>
  <done>
- T108 marked as [~] (scoped, execution in Phase 18)
- DEPRECATION-ANALYSIS.md committed to git
- Phase 18 has clear execution plan
- TODO.md reflects current status
  </done>
</task>

</tasks>

<verification>
1. DEPRECATION-ANALYSIS.md exists with >50 lines
2. All 127+ deprecated plugins are listed
3. Dependency analysis complete
4. TODO.md updated with [~] status for T108
5. Changes committed to git
6. Zero plugins deleted (analysis only)
</verification>

<success_criteria>
- Comprehensive deprecation analysis document created
- All deprecated plugins identified across 10+ categories
- Dependency analysis reveals safe-to-remove vs. needs-migration plugins
- Phase 18 has clear execution roadmap
- T108 marked as scoped in TODO.md
- Zero plugins deleted in Phase 14 (analysis only, execution in Phase 18)
</success_criteria>

<output>
After completion, create `.planning/phases/14-other-plugins/14-05-SUMMARY.md`
</output>
