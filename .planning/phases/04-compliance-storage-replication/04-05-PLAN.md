---
phase: 04-compliance-storage-replication
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - Plugins/DataWarehouse.Plugins.UniversalObservability/UniversalObservabilityPlugin.cs
  - Plugins/DataWarehouse.Plugins.UniversalObservability/Strategies/**/*.cs
  - Metadata/TODO.md
autonomous: true

must_haves:
  truths:
    - "UniversalObservability plugin orchestrator discovers and registers all 50+ observability strategy implementations"
    - "Metrics strategies (Prometheus, VictoriaMetrics, InfluxDB, Datadog, CloudWatch, Azure Monitor, Stackdriver, etc.) capture and export metrics"
    - "Tracing strategies (Jaeger, Zipkin, OpenTelemetry, X-Ray, Tempo, SkyWalking) provide distributed tracing across all plugins"
    - "Alerting strategies (PagerDuty, OpsGenie, AlertManager, Sensu, VictorOps) deliver notifications"
    - "AI-dependent strategies (AiDrivenObservability, PredictiveAlerting, NaturalLanguageQuery) use message bus with threshold-based fallbacks"
    - "All Phase B-F strategies and Phase C-D advanced features/migration are verified complete"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UniversalObservability/UniversalObservabilityPlugin.cs"
      provides: "Observability plugin orchestrator with auto-discovery, multi-backend fan-out, and failover"
    - path: "Plugins/DataWarehouse.Plugins.UniversalObservability/Strategies/"
      provides: "50+ observability strategies across Metrics, Logging, Tracing, APM, Alerting, Health, Profiling, RUM, Synthetic, ErrorTracking, Resource, ServiceMesh categories"
  key_links:
    - from: "UniversalObservabilityPlugin.cs"
      to: "IObservabilityStrategy implementations"
      via: "reflection-based auto-discovery"
      pattern: "DiscoverStrategies|Assembly.GetExecutingAssembly"
    - from: "AI strategies"
      to: "T90 Intelligence"
      via: "message bus"
      pattern: "intelligence\\.anomaly\\.detect|intelligence\\.predict"
---

<objective>
Verify the UniversalObservability plugin (T100) — all observability strategies, advanced features, and migration are complete.

Purpose: UniversalObservability is the cross-cutting monitoring layer that captures metrics, traces, and alerts across all plugins. It must support 50+ observability backends with seamless multi-backend fan-out and failover.

Output: Verified UniversalObservability plugin with all Phases A-F confirmed complete. TODO.md T100 synced.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-compliance-storage-replication/04-RESEARCH.md
@Plugins/DataWarehouse.Plugins.UniversalObservability/UniversalObservabilityPlugin.cs
@Metadata/TODO.md (T100 section, lines ~9650-9862)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify UniversalObservability strategies are production-ready</name>
  <files>
    Plugins/DataWarehouse.Plugins.UniversalObservability/UniversalObservabilityPlugin.cs
    Plugins/DataWarehouse.Plugins.UniversalObservability/Strategies/**/*.cs
  </files>
  <action>
    T100 is marked as "[x] Complete - 50 strategies" in TODO.md with all sub-tasks [x]. Verify this claim:

    1. Count all strategy .cs files under Strategies/ (excluding obj/ files). Confirm count approaches 50+.
    2. Verify UniversalObservabilityPlugin orchestrator:
       - Uses auto-discovery to register all IObservabilityStrategy implementations
       - Has multi-backend fan-out capability (publish to multiple backends simultaneously)
       - Has backend failover (switch on failure)
       - Has Intelligence-aware hooks with "intelligence.anomaly.detect" message bus integration
       - Has ObservabilityDomain support (Metrics, Logs, Traces, Alerts, Profiling, Events)
    3. Spot-check 8 strategies (one from each major category: Metrics, Logging, Tracing, APM, Alerting, Health, Profiling, ErrorTracking):
       - Verify extends ObservabilityStrategyBase or implements IObservabilityStrategy
       - Verify has real implementation logic (HTTP client calls, metric formatting, etc.)
       - Verify no forbidden patterns (NotImplementedException, simulation, mock, stub)
       - Verify XML docs on public members
    4. Verify these categories have strategies present:
       - Metrics/: PrometheusStrategy, CloudWatchStrategy, AzureMonitorStrategy, InfluxDbStrategy, GraphiteStrategy, StatsDStrategy, VictoriaMetricsStrategy, TelegrafStrategy, DatadogStrategy, StackdriverStrategy
       - Logging/: ElasticsearchStrategy, GraylogStrategy, PapertrailStrategy, LokiStrategy, LogglyStrategy, SplunkStrategy, FluentdStrategy, SumoLogicStrategy
       - Tracing/: JaegerStrategy, ZipkinStrategy, XRayStrategy, OpenTelemetryStrategy
       - APM/: NewRelicStrategy, AppDynamicsStrategy, DynatraceStrategy, ElasticApmStrategy, InstanaStrategy
       - Alerting/: PagerDutyStrategy, OpsGenieStrategy, AlertManagerStrategy, SensuStrategy, VictorOpsStrategy
       - Health/: NagiosStrategy, ZabbixStrategy, ConsulHealthStrategy, KubernetesProbesStrategy, IcingaStrategy
       - Profiling/: PyroscopeStrategy, DatadogProfilerStrategy, PprofStrategy
       - RealUserMonitoring/: GoogleAnalyticsStrategy, AmplitudeStrategy, MixpanelStrategy
       - SyntheticMonitoring/: PingdomStrategy, UptimeRobotStrategy, StatusCakeStrategy
       - ErrorTracking/: SentryStrategy, BugsnagStrategy, RollbarStrategy, AirbrakeStrategy
       - ResourceMonitoring/: SystemResourceStrategy, ContainerResourceStrategy
       - ServiceMesh/: IstioStrategy, LinkerdStrategy, EnvoyProxyStrategy

    5. Verify all Phase B-F sub-tasks are genuinely [x] in TODO.md. Fix any discrepancies.
  </action>
  <verify>
    dotnet build Plugins/DataWarehouse.Plugins.UniversalObservability/ --no-restore 2>&1 | Select-String -Pattern "error" | Select-Object -First 20
    Count: Get-ChildItem -Recurse -Filter "*Strategy.cs" Plugins/DataWarehouse.Plugins.UniversalObservability/Strategies/ | Where-Object { $_.FullName -notlike "*\obj\*" } | Measure-Object
    Grep for forbidden patterns in strategy files
  </verify>
  <done>
    UniversalObservability plugin verified with 50+ strategies across 12 categories. Orchestrator confirmed with auto-discovery, multi-backend fan-out, failover, and Intelligence-aware hooks. All T100 Phases A-F sub-tasks confirmed [x] in TODO.md. Build passes with zero errors.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify advanced features, migration, and cross-plugin observability integration</name>
  <files>
    Plugins/DataWarehouse.Plugins.UniversalObservability/UniversalObservabilityPlugin.cs
    Metadata/TODO.md
  </files>
  <action>
    Verify Phase C advanced features and Phase D migration:

    1. **Phase C Advanced Features** (all marked [x]):
       - C1: Multi-backend fan-out — verify PublishMetricsAsync sends to all active backends
       - C2: Backend failover — verify failure detection and automatic switch to backup backend
       - C3: Unified alerting rules — verify alert rules applied across backends
       - C4: Cost-based backend selection — verify cost-aware routing
       - C5: Sampling and filtering — verify configurable sampling rate and metric filtering
       - C6: Trace correlation — verify W3C Trace Context propagation (traceparent/tracestate headers)
       - C7: Intelligence integration — verify "intelligence.anomaly.detect" message bus topic with threshold fallback
       - C8: Dashboard integration — verify "observability.dashboard.data" message bus topic

    2. **Phase D Migration** (all marked [x]):
       - D1-D5: Verify references updated, migration guide exists, old plugins deprecated

    3. **Phase E** (AccessLog, AuditLogging migrations — all marked [x]):
       - Verify access log and audit logging strategies exist and function

    4. **Phase F** (Industry-first innovations — all marked [x]):
       - Verify innovation strategies have real implementations
       - AI-dependent innovations must use message bus with fallback

    5. Verify cross-plugin observability integration:
       - Other plugins can publish metrics via "metrics.publish" topic
       - Other plugins can publish traces via "trace.publish" topic
       - Compliance plugin publishes via "compliance.report.publish" — verify observability subscribes

    Fix any gaps found. Ensure TODO.md T100 remains fully synced.
  </action>
  <verify>
    dotnet build Plugins/DataWarehouse.Plugins.UniversalObservability/ --no-restore 2>&1 | Select-String -Pattern "error" | Select-Object -First 20
    Grep for "MessageBus" in UniversalObservabilityPlugin.cs to confirm message bus integration
    Grep for "intelligence.anomaly" in strategy files to confirm AI integration
  </verify>
  <done>
    All Phase C-F features verified functional. Multi-backend fan-out, failover, trace correlation, and Intelligence integration all confirmed. Migration and innovation strategies verified. Cross-plugin observability integration confirmed via message bus. TODO.md T100 fully synced. Build passes.
  </done>
</task>

</tasks>

<verification>
1. `dotnet build Plugins/DataWarehouse.Plugins.UniversalObservability/` passes with zero errors
2. 50+ strategy files confirmed across 12 categories
3. All Phase C advanced features have real implementations
4. Phase D migration and Phase E plugin absorption confirmed
5. Phase F innovation strategies have real implementations with AI fallbacks
6. All TODO.md T100 sub-tasks confirmed [x]
7. No forbidden patterns in any strategy file
</verification>

<success_criteria>
UniversalObservability plugin is verified production-ready with 50+ observability strategies spanning metrics, logging, tracing, APM, alerting, health monitoring, profiling, RUM, synthetic monitoring, error tracking, resource monitoring, and service mesh — matching the TODO.md claim of 50 strategies complete.
</success_criteria>

<output>
After completion, create `.planning/phases/04-compliance-storage-replication/04-05-SUMMARY.md`
</output>
