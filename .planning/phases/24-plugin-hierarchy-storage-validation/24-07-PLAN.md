---
phase: 24-plugin-hierarchy-storage-validation
plan: 07
type: execute
wave: 5
depends_on: ["24-02", "24-03", "24-04", "24-05", "24-06"]
files_modified: []
autonomous: true

must_haves:
  truths:
    - "dotnet build for the full solution completes (all 60 plugins compile)"
    - "dotnet test passes with all existing tests (1,039+ tests)"
    - "New hierarchy classes are accessible from all SDK projects"
    - "No functionality lost from any existing plugin (AD-08)"
    - "Pre-existing CS1729/CS0234 errors in UltimateCompression and AedsCore are the ONLY allowed errors"
  artifacts:
    - path: ".planning/phases/24-plugin-hierarchy-storage-validation/24-07-SUMMARY.md"
      provides: "Build verification report"
      contains: "Build result"
  key_links:
    - from: "All 60 plugins"
      to: "DataWarehouse.SDK"
      via: "ProjectReference to SDK"
      pattern: "DataWarehouse\\.SDK"
---

<objective>
Full solution build verification across all 60 plugins and all SDK projects (HIER-09). Run existing test suite to confirm zero regression. Document any issues for Phase 27 plugin migration.

Purpose: The hierarchy restructuring in Plans 24-01 through 24-06 must not break ANY existing plugin. This verification plan is the gate -- Phase 24 is not complete until every plugin compiles and every test passes.
Output: Build verification report documenting pass/fail status for all projects and tests.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/ARCHITECTURE_DECISIONS.md
@.planning/phases/24-plugin-hierarchy-storage-validation/24-RESEARCH.md
@.planning/phases/24-plugin-hierarchy-storage-validation/24-02-SUMMARY.md
@.planning/phases/24-plugin-hierarchy-storage-validation/24-03-SUMMARY.md
@.planning/phases/24-plugin-hierarchy-storage-validation/24-06-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Full solution build and fix any compilation errors</name>
  <files></files>
  <action>
**Step 1: Build the full solution**

Run `dotnet build DataWarehouse.slnx` and capture all output.

**Step 2: Categorize errors**

For each compilation error:
1. **Pre-existing** (known): CS1729/CS0234 in UltimateCompression and AedsCore -- ignore, these existed before Phase 24
2. **Caused by FeaturePluginBase rename**: Errors in SDK files where `FeaturePluginBase` was not updated to `LegacyFeaturePluginBase` -- fix by updating the reference
3. **Caused by IntelligenceAwarePluginBase reparent**: Errors where StartAsync/StopAsync signatures changed -- fix by ensuring the method signatures match
4. **Caused by UltimateIntelligencePlugin rebase**: Errors from missing PipelinePluginBase members -- fix by adding the needed members/overrides
5. **Other**: Investigate and fix

**Step 3: Fix errors iteratively**

For each non-pre-existing error:
- Read the file to understand the error context
- Apply the minimal fix that preserves ALL existing functionality (AD-08)
- Rebuild and verify the fix

**CRITICAL RULES:**
- Do NOT modify plugin logic -- only fix compilation errors caused by base class changes
- Do NOT remove any existing methods, properties, or fields from plugins
- Do NOT change any strategy implementations
- If a plugin needs a method that was removed from its base class chain, add the method back to the appropriate base or to the plugin itself
- If adding `using` statements resolves the issue, prefer that over code changes
- Track ALL changes made in this step for the SUMMARY report

**Step 4: Verify clean build**

Run `dotnet build DataWarehouse.slnx` again. All projects must build except the pre-existing UltimateCompression/AedsCore errors.

Count: total projects, successful, failed (subtract pre-existing).
  </action>
  <verify>
Run `dotnet build DataWarehouse.slnx 2>&1 | tail -20` -- check for "Build succeeded" or count errors.
Run `dotnet build DataWarehouse.slnx 2>&1 | grep "error CS"` -- only CS1729/CS0234 in UltimateCompression/AedsCore should remain.
  </verify>
  <done>Full solution builds. All 60 plugins compile. Only pre-existing CS1729/CS0234 errors in UltimateCompression and AedsCore remain.</done>
</task>

<task type="auto">
  <name>Task 2: Run existing test suite and verify zero regression</name>
  <files></files>
  <action>
**Step 1: Run all tests**

Run `dotnet test DataWarehouse.slnx --no-build` (or with build if needed).

If there is no test project in the solution, check for test projects:
- `grep -rn "Microsoft.NET.Test.Sdk" --include="*.csproj" .`
- `ls -la *Test*/ DataWarehouse.Tests/ Tests/`

If tests exist, run them and capture results.

**Step 2: Verify test results**

- All 1,039+ existing tests must pass
- Zero new test failures introduced by Phase 24
- If any test fails, investigate:
  - Is it a pre-existing failure? (Check if it failed before Phase 24)
  - Is it caused by hierarchy changes? Fix the root cause
  - Is it a test that directly tests base class inheritance? Update the test

**Step 3: Document the verification report**

Create a summary of:
- Total projects in solution
- Projects that compile successfully
- Projects with errors (only pre-existing should remain)
- Total tests run
- Tests passed
- Tests failed (should be zero)
- New hierarchy classes created in Phase 24
- [Obsolete] markers added
- Known issues for Phase 27 migration

**Step 4: Verify key Phase 24 deliverables**

Quick verification checklist:
- [ ] PluginBase has InitializeAsync, ExecuteAsync, ShutdownAsync (HIER-02)
- [ ] IntelligenceAwarePluginBase : PluginBase (not FeaturePluginBase) (HIER-05)
- [ ] DataPipelinePluginBase : IntelligenceAwarePluginBase exists (AD-01)
- [ ] New FeaturePluginBase : IntelligenceAwarePluginBase exists (AD-01)
- [ ] 7 DataPipeline domain bases exist (HIER-06)
- [ ] 11 Feature domain bases exist (HIER-06)
- [ ] UltimateIntelligencePlugin : PluginBase (HIER-07)
- [ ] IObjectStorageCore interface exists (AD-04)
- [ ] PathStorageAdapter exists (AD-04)
- [ ] 4 composable service interfaces exist (AD-03)
- [ ] 4 composable service implementations exist (AD-03)
- [ ] Guards class exists (VALID-01)
- [ ] SizeLimitOptions exists (VALID-03)
- [ ] All Regex have timeouts (VALID-04)
- [ ] PluginIdentity exists (VALID-05)
- [ ] Solution builds (HIER-09)
- [ ] Tests pass (HIER-09)
  </action>
  <verify>
Run `dotnet test` -- must report all tests passing (or document any pre-existing failures).
Verify the checklist items above by grepping for key class names.
  </verify>
  <done>Full solution builds with only pre-existing errors. All existing tests pass. All Phase 24 requirements verified. Zero regression confirmed (AD-08).</done>
</task>

</tasks>

<verification>
1. `dotnet build DataWarehouse.slnx` -- all projects compile (except pre-existing UltimateCompression/AedsCore)
2. `dotnet test` -- all 1,039+ tests pass
3. All HIER-01 through HIER-09 requirements met
4. All VALID-01 through VALID-05 requirements met
5. AD-01 (two-branch hierarchy) implemented in SDK
6. AD-03 (composable services) extracted
7. AD-04 (object storage core) implemented
8. AD-08 (zero regression) confirmed
</verification>

<success_criteria>
- HIER-09: All base classes compile and all 60 existing plugins still build without errors after hierarchy changes
- AD-08: Zero regression -- no test failures, no lost functionality
- All Phase 24 requirements (HIER-01 through HIER-09, VALID-01 through VALID-05) verified complete
- Clean build verification report suitable for Phase 25a planning
</success_criteria>

<output>
After completion, create `.planning/phases/24-plugin-hierarchy-storage-validation/24-07-SUMMARY.md`
</output>
