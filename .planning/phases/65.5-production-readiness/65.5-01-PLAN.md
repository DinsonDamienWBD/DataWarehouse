---
phase: 65.5-production-readiness
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateDataPrivacy/UltimateDataPrivacyPlugin.cs
  - Plugins/DataWarehouse.Plugins.UltimateRAID/UltimateRaidPlugin.cs
autonomous: true

must_haves:
  truths:
    - "UltimateDataPrivacy extends SecurityPluginBase (not DataManagementPluginBase)"
    - "UltimateRAID extends StoragePluginBase (not ReplicationPluginBase)"
    - "UltimateDataPrivacy uses AuthenticateWithStrategyAsync/AuthorizeWithStrategyAsync dispatch"
    - "UltimateRAID implements Store/Retrieve/Delete/Exists/List/GetMetadata abstracts"
    - "Both plugins compile with zero errors"
    - "Both plugins register strategies via correct base-class registration methods"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateDataPrivacy/UltimateDataPrivacyPlugin.cs"
      provides: "Re-parented plugin extending SecurityPluginBase"
    - path: "Plugins/DataWarehouse.Plugins.UltimateRAID/UltimateRaidPlugin.cs"
      provides: "Re-parented plugin extending StoragePluginBase"
---

<objective>
Fix base class inheritance for 2 plugins that extend the wrong SDK base class.

1. **UltimateDataPrivacy**: Change from DataManagementPluginBase to SecurityPluginBase
   - Update SecurityDomain, DeclaredCapabilities to CapabilityCategory.Security
   - Migrate from ManageDataWithStrategyAsync to AuthenticateWithStrategyAsync/AuthorizeWithStrategyAsync
   - Update all message handler registrations for security topics

2. **UltimateRAID**: Change from ReplicationPluginBase to StoragePluginBase
   - Implement Store/Retrieve/Delete/Exists/List/GetMetadata abstracts (delegate to active RAID strategy)
   - Remove ReplicateAsync/GetSyncStatusAsync stubs
   - Register RAID strategies via StoragePluginBase.RegisterStorageStrategy

Build verification: `dotnet build` the affected projects with zero errors.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/65.5-production-readiness-plan.md
@.planning/PLUGIN-CATALOG.md
</context>

<tasks>
<task type="auto">
  <name>Task 1: Re-parent UltimateDataPrivacy to SecurityPluginBase</name>
  <files>Plugins/DataWarehouse.Plugins.UltimateDataPrivacy/UltimateDataPrivacyPlugin.cs</files>
  <action>
    Read the current UltimateDataPrivacyPlugin.cs. Change base class from DataManagementPluginBase to SecurityPluginBase.
    Update:
    - SecurityDomain property
    - DeclaredCapabilities to CapabilityCategory.Security
    - Strategy dispatch methods to use AuthenticateWithStrategyAsync/AuthorizeWithStrategyAsync
    - Message handler registrations for security topics
    - Strategy registration to use SecurityPluginBase registration methods
    Build verify: `dotnet build` the plugin project.
  </action>
  <verify>Plugin compiles cleanly, extends SecurityPluginBase, uses correct dispatch methods.</verify>
  <done>UltimateDataPrivacy correctly extends SecurityPluginBase with all dispatch and registration updated.</done>
</task>

<task type="auto">
  <name>Task 2: Re-parent UltimateRAID to StoragePluginBase</name>
  <files>Plugins/DataWarehouse.Plugins.UltimateRAID/UltimateRaidPlugin.cs</files>
  <action>
    Read the current UltimateRaidPlugin.cs. Change base class from ReplicationPluginBase to StoragePluginBase.
    Implement the required abstract methods: StoreAsync, RetrieveAsync, DeleteAsync, ExistsAsync, ListAsync, GetMetadataAsync â€” each delegating to the active RAID strategy.
    Remove old ReplicateAsync/GetSyncStatusAsync stubs.
    Register RAID strategies via StoragePluginBase.RegisterStorageStrategy.
    Build verify: `dotnet build` the plugin project.
  </action>
  <verify>Plugin compiles cleanly, extends StoragePluginBase, implements all storage abstracts.</verify>
  <done>UltimateRAID correctly extends StoragePluginBase with storage abstracts delegating to RAID strategies.</done>
</task>
</tasks>

<verification>
- Both plugins compile with zero errors
- UltimateDataPrivacy extends SecurityPluginBase
- UltimateRAID extends StoragePluginBase
- No remaining references to old base classes
</verification>

<success_criteria>
Both plugins use the correct SDK base class for their domain. All abstract methods implemented. Zero build errors.
</success_criteria>

<output>
After completion, create `.planning/phases/65.5-production-readiness/65.5-01-SUMMARY.md`
</output>
