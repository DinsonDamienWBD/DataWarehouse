---
phase: 65.5-production-readiness
plan: 17
type: execute
wave: 5
depends_on: ["65.5-15", "65.5-16"]
autonomous: true

must_haves:
  truths:
    - "Layer 1 structural scan completed across all 53 plugins"
    - "Layer 2 deep semantic review completed across all 53 plugins"
    - "findings_structural.json and findings_semantic.json created"
    - "findings_all.json (merged, deduplicated, severity-sorted) created"
    - "If findings exist: fix phase executed with build verification"
---

<objective>
Two-Layer Comprehensive Audit Round 1 — find remaining issues after all fixes and consolidation.

**Layer 1: Structural Grep Scan (Fast, Pattern-Based)**
Scan ALL 53 plugins for known anti-patterns:
- `new void`, `new async`, `new bool` → keyword shadowing
- `.GetAwaiter().GetResult()` → deadlock risk
- `internal sealed class` on plugin classes → discovery failure
- `Task.CompletedTask` in lifecycle methods → no-op lifecycle
- Missing `base.OnHandshakeAsync` calls
- Direct `override.*StartAsync` / `override.*StopAsync` (should be OnStartCoreAsync/OnStopCoreAsync)
- Dual `_messageBus` field declarations
- `List<` on shared state (should be ConcurrentQueue/BoundedDictionary)
- `NotImplementedException`, `NotSupportedException` in advertised capabilities

Output: `.planning/phases/65.5-production-readiness/findings_structural.json`

**Layer 2: Deep Semantic Code Review**
Review all 53 plugins against 12-point behavioral checklist:
1. Silent no-ops 2. Stub returns 3. Dead initialization 4. Exception suppression
5. NotImplemented/NotSupported 6. In-memory-only state 7. Hardcoded stubs
8. Wiring gaps 9. Passthrough delegation 10. Parameter ignoring
11. Incomplete dispatch 12. Missing error propagation

Output: `.planning/phases/65.5-production-readiness/findings_semantic.json`

**MERGE**: Combine into `findings_all.json`. If count > 0: generate fix prompts and apply fixes.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/65.5-production-readiness-plan.md
</context>

<tasks>
<task type="auto">
  <name>Task 1: Layer 1 structural grep scan across all plugins</name>
  <action>
    Scan all 53 plugin directories for each anti-pattern listed above using grep/glob.
    Record findings as JSON: {file, line, pattern, severity}
    Save to `.planning/phases/65.5-production-readiness/findings_structural.json`
  </action>
  <verify>Scan completed across all plugins.</verify>
  <done>Structural scan findings documented.</done>
</task>

<task type="auto">
  <name>Task 2: Layer 2 deep semantic review + merge + fix</name>
  <action>
    For each of the 53 plugins:
    1. Read every .cs file in the plugin directory
    2. Evaluate against the 12-point behavioral checklist
    3. Record findings as JSON: {plugin, file, line, category, description, severity, suggested_fix}
    Save to `.planning/phases/65.5-production-readiness/findings_semantic.json`

    Then merge both layers into `findings_all.json`, deduplicate, sort by severity.
    If findings exist: apply fixes and build verify.
  </action>
  <verify>Semantic review completed, merged findings documented, fixes applied if needed.</verify>
  <done>Audit Round 1 complete with all fixes applied.</done>
</task>
</tasks>

<output>
After completion, create `.planning/phases/65.5-production-readiness/65.5-17-SUMMARY.md`
</output>
