---
phase: 21.5-pre-execution-cleanup
plan: 01
---
# Phase 21.5 Plan 01 Summary

Consolidate 5 duplicate hosting type definitions (OperatingMode, ConnectionType, ConnectionTarget, InstallConfiguration, EmbeddedConfiguration) from 3-4 locations into a single canonical SDK/Hosting/ namespace.

## What Changed
- Created 5 canonical types in DataWarehouse.SDK/Hosting/ namespace
- ConnectionType is a superset enum: Local, Remote, InProcess (from Shared), Cluster (from Launcher)
- ConnectionTarget is a superset class with all properties from both Launcher and Shared versions, plus factory methods
- Updated Launcher/Integration/DataWarehouseHost.cs and InstanceConnection.cs to import SDK.Hosting
- Updated Shared/InstanceManager.cs: removed inline ConnectionTarget and ConnectionType definitions, adapted Address -> Host
- Updated Shared/MessageBridge.cs: adapted Address -> Host in ConnectTcpAsync and GetConnectionStats
- Updated Metadata/Adapter/OperatingMode.cs: removed all type definitions, file now re-exports via using
- Updated Metadata/Adapter/DataWarehouseHost.cs and InstanceConnection.cs to import SDK.Hosting
- Deleted CLI/Integration dead code (4 files: OperatingMode.cs, IKernelAdapter.cs, AdapterFactory.cs, AdapterRunner.cs)
- Deleted Launcher/Integration/OperatingMode.cs (types moved to SDK)
- Added SDK.Hosting using to GUI _Imports.razor (deviation: GUI referenced ConnectionTarget via InstanceManager events)

## Deviations from Plan
- [Rule 3 - Blocking] GUI _Imports.razor needed `@using DataWarehouse.SDK.Hosting` added because GUI's MainLayout.razor and SyncStatusPanel.razor reference ConnectionTarget via InstanceManager.ConnectionChanged event. Not in original plan but required for build to succeed.

## Files Modified
- Created: DataWarehouse.SDK/Hosting/OperatingMode.cs
- Created: DataWarehouse.SDK/Hosting/ConnectionType.cs
- Created: DataWarehouse.SDK/Hosting/ConnectionTarget.cs
- Created: DataWarehouse.SDK/Hosting/InstallConfiguration.cs
- Created: DataWarehouse.SDK/Hosting/EmbeddedConfiguration.cs
- Modified: DataWarehouse.Launcher/Integration/DataWarehouseHost.cs
- Modified: DataWarehouse.Launcher/Integration/InstanceConnection.cs
- Modified: DataWarehouse.Shared/InstanceManager.cs
- Modified: DataWarehouse.Shared/MessageBridge.cs
- Modified: Metadata/Adapter/OperatingMode.cs
- Modified: Metadata/Adapter/DataWarehouseHost.cs
- Modified: Metadata/Adapter/InstanceConnection.cs
- Modified: DataWarehouse.GUI/_Imports.razor
- Deleted: DataWarehouse.Launcher/Integration/OperatingMode.cs
- Deleted: DataWarehouse.CLI/Integration/OperatingMode.cs
- Deleted: DataWarehouse.CLI/Integration/IKernelAdapter.cs
- Deleted: DataWarehouse.CLI/Integration/AdapterFactory.cs
- Deleted: DataWarehouse.CLI/Integration/AdapterRunner.cs

## Build Status
PASS - SDK builds with 0 errors, Launcher builds with 0 errors, Shared builds with 0 errors

## Metrics
- Files created: 5
- Files modified: 8
- Files deleted: 5
