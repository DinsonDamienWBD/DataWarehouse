# Plan 31.1-05: Batch 2 Data Management Plugins — Group B (8 plugins)

## Goal
Implement real production-ready strategy method bodies for the remaining 8 Batch 2 Data Management plugins. (UltimateDeployment moved to Plan 31.1-02.)

## Plugins

### 8. UltimateDataLake (~40 strategies)
**TARGET:** `Plugins/DataWarehouse.Plugins.UltimateDataLake/`
**Why here:** Lake zone management and data promotion are DataLake's domain. Bronze/Silver/Gold medallion architecture, schema-on-read, and lake-to-warehouse sync are all lake-specific operations. Data I/O DELEGATES to UltimateStorage via message bus `storage.write.lake.*` topics.

Replace placeholder lake operations with real implementations:
- Zone management: Bronze/Silver/Gold medallion with promotion rules (quality gates for each transition)
- Schema-on-read: dynamic schema inference from JSON/CSV/Parquet headers
- Data cataloging: metadata extraction and indexing — DELEGATES to UltimateDataCatalog via `catalog.register.asset` topic
- Lake-to-warehouse sync: incremental materialization with watermark tracking

### 9. UltimateDataLineage (~32 strategies)
**TARGET:** `Plugins/DataWarehouse.Plugins.UltimateDataLineage/`
**Why here:** Lineage tracking and impact analysis are DataLineage's domain. DAG construction, provenance chains, and blast radius calculation are all lineage-specific graph operations. Self-contained — lineage is recorded by OTHER plugins publishing events to `lineage.record.*` topics, which DataLineage subscribes to.

Replace placeholder lineage operations with real graph tracking:
- Origin tracking: source system registration with connection metadata
- Transformation tracking: DAG construction from ETL job definitions (adjacency list + topological sort)
- Impact analysis: reverse graph traversal for blast radius calculation
- Provenance chain: SHA-256 hash chain for tamper detection

### 10. UltimateDataManagement (~74 strategies)
**TARGET:** `Plugins/DataWarehouse.Plugins.UltimateDataManagement/`
**Why here:** Data lifecycle management is DataManagement's domain. Deduplication, retention, versioning, tiering — all management-specific. Some strategies already have REAL implementations (InlineDeduplication with rolling hash). Tiering DELEGATES data movement to UltimateStorage via `storage.tier.move` topic.

Note: Some strategies already have REAL implementations (InlineDeduplication with rolling hash). Replace remaining placeholders:
- Deduplication: content-defined chunking with Rabin fingerprinting
- Retention: policy evaluation engine with time-based expiry
- Versioning: delta-based version storage with parent chain
- Tiering: cost-aware data placement with access frequency tracking — DELEGATES movement to UltimateStorage via `storage.tier.move` topic

### 11. UltimateDataMesh (~55 strategies)
**TARGET:** `Plugins/DataWarehouse.Plugins.UltimateDataMesh/`
**Why here:** Domain mesh management is DataMesh's domain. Bounded contexts, data products, federated governance, cross-domain sharing — all mesh-specific. Cross-domain data access DELEGATES to the owning domain's plugin via message bus `mesh.domain.{name}.query` topics.

Replace placeholder mesh operations with real domain management:
- Domain ownership: bounded context registration and lifecycle
- Data products: SLA tracking, quality metrics, versioned contracts
- Federated governance: policy-as-code evaluation across domains — EVALUATES locally, DELEGATES enforcement to UltimateDataGovernance via `governance.evaluate.policy` topic
- Cross-domain sharing: contract validation and event-driven federation

### 12. UltimateDataPrivacy (~70 strategies)
**TARGET:** `Plugins/DataWarehouse.Plugins.UltimateDataPrivacy/`
**Why here:** Privacy transformations are DataPrivacy's domain — NOT UltimateEncryption. Anonymization, pseudonymization, tokenization, and differential privacy are data TRANSFORMATION operations (they change the data's meaning/form for privacy), while encryption is a reversible PROTECTION operation (data meaning unchanged). These are fundamentally different domains.

Replace placeholder privacy operations with real transformations:
- Anonymization: k-anonymity via generalization/suppression (quasi-identifier generalization hierarchies)
- Pseudonymization: HMAC-based deterministic replacement using SDK crypto utilities
- Tokenization: format-preserving encryption (FPE) using AES-FF1 algorithm
- Data masking: pattern-based field masking (SSN: `***-**-1234`, email: `j***@example.com`, phone: `(***) ***-5678`)
- Differential privacy: Laplace noise addition with epsilon budgeting

### 13. UltimateDataProtection (~40 strategies — orchestration-level)
**TARGET:** `Plugins/DataWarehouse.Plugins.UltimateDataProtection/`
**Why here:** Backup/recovery orchestration is DataProtection's domain. Full, incremental, CDP, snapshot — all backup-specific. Innovation strategy simulated operations (AirGapped, BreakGlass) are handled in Plan 31.1-02. These are the CORE backup/recovery strategy bodies. Data I/O DELEGATES to UltimateStorage via `storage.backup.write/read` topics.

Note: Innovation strategy simulated operations are handled in Plan 31.1-02. These are the core backup/recovery strategy bodies:
- Full backup: streaming file copy with progress tracking
- Incremental: journal-based change detection with block-level deltas
- CDP: write-ahead log capture for continuous protection
- Snapshot: copy-on-write with reference counting

### 14. UltimateDataQuality (~50 strategies)
**TARGET:** `Plugins/DataWarehouse.Plugins.UltimateDataQuality/`
**Why here:** Data quality validation and profiling are DataQuality's domain. Validation rules, statistical profiling, cleansing, duplicate detection — all quality-specific. Quality scores may be PUBLISHED to `quality.score.updated` topic for other plugins to consume.

Replace placeholder quality operations with real validation:
- Validation: regex/range/constraint checking against schema rules
- Profiling: statistical analysis (min/max/mean/stddev/percentiles/cardinality) using streaming algorithms
- Cleansing: whitespace normalization, case standardization, null handling
- Duplicate detection: Levenshtein distance + Soundex for fuzzy matching
- Quality scoring: weighted dimension scoring (completeness, accuracy, consistency, timeliness)

### 15. UltimateDataTransit (~6 strategies — protocol bodies)
**TARGET:** `Plugins/DataWarehouse.Plugins.UltimateDataTransit/`
**Why here:** Data transfer protocol implementations are DataTransit's domain. HTTP/2, gRPC, FTP/SFTP, SCP — all transport-specific. Orchestration is already REAL (scoring, QoS, cost routing, layering). Only the strategy transfer method bodies need real implementations.

Note: Orchestration is already REAL (scoring, QoS, cost routing, layering). Replace strategy transfer method placeholders:
- HTTP/2: real HttpClient with multiplexed streams
- gRPC: real Grpc.Net.Client bidirectional streaming
- FTP/SFTP: real FtpClient/SftpClient using .NET sockets
- SCP: real SSH-based file transfer

## Placement Audit Summary
- UltimateDataLake: owns zone management — DELEGATES I/O to storage via bus
- UltimateDataLineage: owns lineage graph — receives events from other plugins via bus
- UltimateDataManagement: owns lifecycle — DELEGATES tier movement to storage via bus
- UltimateDataMesh: owns domain mesh — DELEGATES cross-domain queries via bus
- UltimateDataPrivacy: owns privacy transformations — NOT encryption (different domain)
- UltimateDataProtection: owns backup/recovery — DELEGATES I/O to storage via bus
- UltimateDataQuality: owns quality validation — PUBLISHES scores via bus
- UltimateDataTransit: owns transfer protocols — self-contained network I/O

## Success Criteria
- [ ] All 8 Batch 2 plugins' strategy methods contain real production logic
- [ ] No placeholder return values remain
- [ ] Full solution builds with 0 new errors
- [ ] PLUGIN-CATALOG.md updated for each plugin
