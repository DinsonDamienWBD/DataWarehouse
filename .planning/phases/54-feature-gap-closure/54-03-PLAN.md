---
phase: 54-feature-gap-closure
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateReplication/Strategies/**
  - Plugins/DataWarehouse.Plugins.UltimateConsensus/**
  - Plugins/DataWarehouse.Plugins.UltimateResilience/Strategies/**
  - DataWarehouse.SDK/Hardware/**
  - Plugins/DataWarehouse.Plugins.UltimateEdgeComputing/**
  - Plugins/DataWarehouse.Plugins.UltimateIoTIntegration/**
  - Plugins/DataWarehouse.Plugins.AedsCore/**
autonomous: true

must_haves:
  truths:
    - "All 166 Domain 5-8 features at 80-99% reach 100% production readiness"
    - "Replication strategies (47), resilience strategies (66), hardware probes, edge/IoT protocols all fully hardened"
    - "AEDS control plane and data plane channels fully production-ready"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateReplication/"
      provides: "47 replication strategies at 100%"
    - path: "Plugins/DataWarehouse.Plugins.UltimateResilience/"
      provides: "66 resilience strategies at 100%"
    - path: "Plugins/DataWarehouse.Plugins.UltimateIoTIntegration/"
      provides: "40 IoT strategies at 100%"
  key_links:
    - from: "UltimateReplication"
      to: "UltimateConsensus"
      via: "Raft consensus for leader election"
      pattern: "Raft.*LeaderElection"
    - from: "UltimateEdgeComputing"
      to: "UltimateIoTIntegration"
      via: "sensor data pipeline"
      pattern: "sensor.*fusion"
---

<objective>
Quick Wins: Domains 5-8 (Distributed, Hardware, Edge/IoT, AEDS) — 166 features at 80-99% pushed to 100%.

Purpose: These domains have strong code-derived implementations (78% average) but need final polish. Domain 5 has 76 replication/resilience strategies, Domain 6 has 23 hardware integration features, Domain 7 has 48 edge/IoT features, Domain 8 has 19 AEDS features — all at 80-99%.

Output: 166 features at 100% across distributed systems, hardware, edge/IoT, and AEDS plugins.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/PLUGIN-CATALOG.md
@.planning/phases/42-feature-verification-matrix/domains-5-8-summary.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Domain 5 — Distributed Systems Quick Wins (76 features to 100%)</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateReplication/Strategies/**
    Plugins/DataWarehouse.Plugins.UltimateConsensus/**
    Plugins/DataWarehouse.Plugins.UltimateResilience/Strategies/**
  </files>
  <action>
Apply 7-point production readiness checklist to all 76 Domain 5 features at 80-99%.

Focus areas:
- **UltimateReplication (47 strategies)**: Sync/async replication, multi-master, CRDT (GCounter, PNCounter, LWWRegister, ORSet), vector clocks, delta sync, geo-replication, CDC (Debezium, Kafka Connect), topology patterns (mesh, chain, tree, ring, star), DR strategies, filtered/selective replication, compression/encryption/throttling. For each: ensure proper conflict detection metrics, replication lag monitoring, bandwidth throttling enforcement, and failover trigger thresholds.

- **UltimateConsensus (2 strategies)**: Multi-Raft and consistent hashing. Ensure leader election timeout is configurable, log compaction triggers on size threshold, snapshot transfer uses chunked streaming.

- **UltimateResilience (66 strategies)**: Retry (5 patterns), circuit breaker (5), rate limiting (5), bulkhead (5), timeout (6), fallback (5), load balancing (7), health checks (4), chaos engineering (4), consensus (2), DR (5). For each: ensure proper metrics emission (success/failure/duration), configuration validation (e.g., retry count > 0, timeout > 0), and proper state cleanup on dispose.

Pattern: Distributed strategies at 85%+ typically need: proper timeout handling on all network operations, metrics for operation latency/throughput/error-rate, and configurable thresholds with sensible defaults.
  </action>
  <verify>
dotnet build DataWarehouse.slnx — zero errors
Each replication strategy has: conflict detection, lag monitoring, failover trigger
Each resilience strategy has: metrics, config validation, dispose cleanup
  </verify>
  <done>All 76 Domain 5 features at 80-99% brought to 100%</done>
</task>

<task type="auto">
  <name>Task 2: Domains 6-8 — Hardware, Edge/IoT, AEDS Quick Wins (90 features to 100%)</name>
  <files>
    DataWarehouse.SDK/Hardware/**
    Plugins/DataWarehouse.Plugins.UltimateEdgeComputing/**
    Plugins/DataWarehouse.Plugins.UltimateIoTIntegration/**
    Plugins/DataWarehouse.Plugins.AedsCore/**
  </files>
  <action>
Apply 7-point production readiness checklist to 90 features across Domains 6-8.

**Domain 6 — Hardware (23 features)**:
- Hardware probes (Windows/Linux/macOS): Ensure timeout on WMI/sysfs/system_profiler queries, graceful degradation on unsupported platforms, caching with configurable TTL
- Hardware accelerators (QAT, GPU, TPM, HSM): Proper device detection with fallback, resource locking for shared hardware, health monitoring
- Memory/storage (NUMA, NVMe, FTL): Proper alignment checks, wear-level tracking, bad block reporting
- Hypervisor detection: Reliable VMX/SVM flag detection, balloon driver cooperation
- Deployment profiles: Profile validation, resource limit enforcement

**Domain 7 — Edge/IoT (48 features)**:
- SDK edge layer (GPIO, I2C, SPI): Pin conflict detection, debouncing configuration, interrupt priority management
- IoT protocols (MQTT, CoAP): QoS level enforcement, session persistence, message ordering guarantees
- Edge AI (ONNX, WASI-NN): Model loading timeout, inference memory limits, model versioning
- UltimateIoTIntegration (40 strategies): Device lifecycle tracking, certificate expiry monitoring, firmware version validation, sensor calibration tracking
- Federated learning: Gradient clipping, convergence criteria, privacy budget enforcement
- Digital twin: State sync latency SLA, projection accuracy metrics

**Domain 8 — AEDS (19 features)**:
- ServerDispatcherPlugin: Job queue depth limits, client registry cleanup, distribution fairness metrics
- ClientCourierPlugin: Sentinel heartbeat interval, Executor task timeout, Watchdog alert thresholds
- Control plane (gRPC/MQTT/WebSocket): Connection pool limits, message size validation, keepalive configuration
- Data plane (HTTP/2/HTTP/3/QUIC/WebTransport): Backpressure handling, flow control, connection migration
- Extensions (11): Each extension needs proper initialization/shutdown lifecycle and health reporting

Pattern: Hardware/IoT strategies need platform detection and graceful fallback. AEDS strategies need connection lifecycle management and backpressure.
  </action>
  <verify>
dotnet build DataWarehouse.slnx — zero errors
Each hardware strategy has: platform detection, fallback path, health probe
Each IoT strategy has: device lifecycle, certificate monitoring, health check
Each AEDS component has: connection management, backpressure, lifecycle hooks
  </verify>
  <done>All 90 Domain 6-8 features at 80-99% brought to 100%</done>
</task>

</tasks>

<verification>
- dotnet build DataWarehouse.slnx succeeds with 0 errors, 0 warnings
- dotnet test passes all existing tests
- No architectural violations (AD-11)
</verification>

<success_criteria>
- 166 features (76 Domain 5 + 23 Domain 6 + 48 Domain 7 + 19 Domain 8) moved from 80-99% to 100%
- Zero build errors or warnings
</success_criteria>

<output>
After completion, create `.planning/phases/54-feature-gap-closure/54-03-SUMMARY.md`
</output>
