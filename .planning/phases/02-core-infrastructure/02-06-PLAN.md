---
phase: 02-core-infrastructure
plan: 06
type: execute
wave: 3
depends_on: ["02-04", "02-05"]
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateRAID/Strategies/Adaptive/AdaptiveRaidStrategies.cs
  - Plugins/DataWarehouse.Plugins.UltimateRAID/Features/PerformanceOptimization.cs
  - Plugins/DataWarehouse.Plugins.UltimateRAID/Features/RaidLevelMigration.cs
  - Metadata/TODO.md
autonomous: true

must_haves:
  truths:
    - "AI optimization recommends RAID level changes based on workload analysis, and falls back to rule-based recommendations when Intelligence plugin is unavailable"
    - "Tiering automatically moves hot data to SSD/NVMe tiers without manual intervention"
    - "SIMD parity calculation uses System.Numerics.Vector<T> for hardware-accelerated XOR operations"
    - "When IsIntelligenceAvailable returns false, all AI features degrade to threshold-based logic with no errors or exceptions"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateRAID/Strategies/Adaptive/AdaptiveRaidStrategies.cs"
      provides: "AI-driven RAID optimization strategies"
    - path: "Plugins/DataWarehouse.Plugins.UltimateRAID/Features/PerformanceOptimization.cs"
      provides: "Parallel parity, SIMD, tiering"
  key_links:
    - from: "AdaptiveRaidStrategies.cs"
      to: "Intelligence plugin"
      via: "message bus for AI predictions"
      pattern: "IsIntelligenceAvailable|RequestPredictionAsync"
    - from: "PerformanceOptimization.cs"
      to: "Vector<T>"
      via: "SIMD operations"
      pattern: "Vector<|System\\.Numerics"
    - from: "AdaptiveRaidStrategies.cs"
      to: "Fallback logic"
      via: "conditional AI usage"
      pattern: "IsIntelligenceAvailable.*false|threshold|rule-based|fallback"
---

<objective>
Verify and complete UltimateRAID AI optimization (T91.E), tiering (T91.F), and performance features (T91.G).

Purpose: AI-driven optimization, tiering, and performance features make RAID adaptive and high-performance. These represent the advanced capabilities that differentiate UltimateRAID.
Output: Verified AI optimization, tiering, and performance features. TODO.md updated for T91.E, T91.F, T91.G.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-infrastructure/02-RESEARCH.md
@Metadata/Incomplete Tasks.txt
@Metadata/TODO.md
@.planning/phases/02-core-infrastructure/02-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify AI optimization and tiering features</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateRAID/Strategies/Adaptive/AdaptiveRaidStrategies.cs
    Plugins/DataWarehouse.Plugins.UltimateRAID/Features/PerformanceOptimization.cs
    Plugins/DataWarehouse.Plugins.UltimateRAID/Features/RaidLevelMigration.cs
  </files>
  <action>
    Verify T91.E (AI Optimization), T91.F (Tiering), T91.G (Performance):

    **T91.E AI Optimization**:
    - 91.E1.1 Workload analyzer (I/O pattern analysis)
    - 91.E1.2 Auto-level selection (recommend RAID level)
    - 91.E1.3 Stripe size optimizer
    - 91.E1.4 Drive placement advisor
    - 91.E2.1 Failure prediction model (ML-based with fallback)
    - 91.E2.2 Capacity forecasting
    - 91.E2.3 Performance forecasting
    - 91.E2.4 Cost optimization
    - 91.E3.1 NL query handler ("What's the status?")
    - 91.E3.2 NL command handler ("Add hot spare")
    - 91.E3.3 Recommendation generator
    - 91.E3.4 Anomaly explanation

    **T91.F Tiering**:
    - 91.F3.1 SSD caching layer
    - 91.F3.2 NVMe tier
    - 91.F3.3 Auto-tiering (automatic data movement)
    - 91.F3.4 Tiered parity (different RAID per tier)

    **T91.G Performance**:
    - 91.G1 Parallel parity calculation (multi-threaded)
    - 91.G2 SIMD optimization (Vector<T> / AVX2)

    CRITICAL AI FALLBACK VERIFICATION: All AI features MUST check `IsIntelligenceAvailable` before using AI. If unavailable, fall back to rule-based/threshold-based logic. No hard dependency on Intelligence plugin. Specifically verify:
    1. Every method that calls Intelligence has an `if (!IsIntelligenceAvailable)` guard
    2. The fallback path returns meaningful results (not just default/null)
    3. No exception is thrown when Intelligence is unavailable

    Fix any gaps. Verify SIMD parity uses System.Numerics.Vector<T> for real hardware acceleration.
  </action>
  <verify>
    Build: `dotnet build Plugins/DataWarehouse.Plugins.UltimateRAID/DataWarehouse.Plugins.UltimateRAID.csproj --no-restore`
    Grep for NotImplementedException, "simulation", "placeholder" in feature files
    Grep for IsIntelligenceAvailable to confirm fallback guards exist
  </verify>
  <done>
    AI optimization, tiering, and performance features all verified production-ready with proper Intelligence fallbacks. Every AI code path has a working non-AI fallback.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update TODO.md for T91.E, T91.F, T91.G</name>
  <files>Metadata/TODO.md</files>
  <action>
    Update TODO.md for all verified T91.E, T91.F, T91.G items. Mark completed items as `[x]`.
    Build full solution: `dotnet build DataWarehouse.slnx --no-restore`
  </action>
  <verify>
    Run: `dotnet build DataWarehouse.slnx --no-restore` -- must succeed
    T91.E, T91.F, T91.G items updated in TODO.md
  </verify>
  <done>
    T91.E/F/G items in TODO.md reflect actual completion. Solution builds cleanly.
  </done>
</task>

</tasks>

<verification>
- AI features degrade gracefully (check IsIntelligenceAvailable with working fallback logic)
- SIMD parity uses System.Numerics.Vector<T>
- Tiering supports SSD/NVMe/auto-tiering
- Solution builds cleanly
- TODO.md T91.E/F/G updated
</verification>

<success_criteria>
AI optimization, tiering, and performance features are production-ready with proper graceful degradation when Intelligence plugin is unavailable. SIMD parity uses real hardware acceleration. Every AI code path verified to have a functioning non-AI fallback.
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-infrastructure/02-06-SUMMARY.md`
</output>
