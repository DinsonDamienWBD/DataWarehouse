---
phase: 02-core-infrastructure
plan: 10
type: execute
wave: 3
depends_on: ["02-08", "02-09"]
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateCompression/DataWarehouse.Plugins.UltimateCompression.csproj
  - Metadata/TODO.md
autonomous: true

must_haves:
  truths:
    - "UltimateCompression .csproj references ONLY DataWarehouse.SDK"
    - "Migration references are documented for old compression plugins"
    - "Deprecation notices exist for old plugins"
    - "All T92 items in TODO.md accurately reflect completion status"
    - "Full solution builds cleanly"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateCompression/DataWarehouse.Plugins.UltimateCompression.csproj"
      provides: "Plugin project with SDK-only references"
  key_links:
    - from: "DataWarehouse.Plugins.UltimateCompression.csproj"
      to: "DataWarehouse.SDK"
      via: "ProjectReference"
      pattern: "DataWarehouse\\.SDK"
---

<objective>
Verify and complete UltimateCompression migration (T92.D) -- update references, deprecate old plugins, verify SDK-only dependency.

Purpose: Migration ensures the UltimateCompression plugin fully replaces old standalone compression plugins. Plugin isolation is verified.
Output: Verified migration completeness, SDK-only dependency, deprecation notices. TODO.md updated for all T92.D items.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-infrastructure/02-RESEARCH.md
@Metadata/Incomplete Tasks.txt
@Metadata/TODO.md
@.planning/phases/02-core-infrastructure/02-09-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify migration and plugin isolation</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateCompression/DataWarehouse.Plugins.UltimateCompression.csproj
    Plugins/DataWarehouse.Plugins.UltimateCompression/UltimateCompressionPlugin.cs
  </files>
  <action>
    Verify T92.D (Migration) items:

    - D1 Update all plugin references to use UltimateCompression
    - D2 Create migration guide for existing implementations
    - D3 Deprecate individual compression plugins
    - D4 Remove deprecated plugins after transition period
    - D5 Update documentation and examples

    Specific checks:
    1. **Read .csproj**: Verify ONLY DataWarehouse.SDK ProjectReference exists. No references to other plugins.
    2. **Check for old plugin references**: Search the codebase for references to old compression plugins (BrotliCompression, ZstdCompression, etc.) that should now use UltimateCompression.
    3. **Deprecation notices**: Check if old compression plugins (if they still exist in solution) have [Obsolete] attributes or deprecation documentation.
    4. **Migration guide**: This may be documentation only -- verify it exists or create it as XML doc comments on the plugin class.

    Note: D4 (Remove deprecated plugins) is deferred to Phase 18 (Plugin Deprecation & File Cleanup). Mark as [ ] in TODO.md with a note.
  </action>
  <verify>
    Grep .csproj for ProjectReference -- must show only DataWarehouse.SDK
    Build: `dotnet build Plugins/DataWarehouse.Plugins.UltimateCompression/DataWarehouse.Plugins.UltimateCompression.csproj --no-restore`
  </verify>
  <done>
    Plugin isolation verified. Migration references documented. Deprecation notices in place (actual removal deferred to Phase 18).
  </done>
</task>

<task type="auto">
  <name>Task 2: Final T92 verification and TODO.md update</name>
  <files>Metadata/TODO.md</files>
  <action>
    Final sweep across ALL T92 items:

    1. Re-verify the full UltimateCompression build: `dotnet build Plugins/DataWarehouse.Plugins.UltimateCompression/DataWarehouse.Plugins.UltimateCompression.csproj --no-restore`

    2. Count total strategies to confirm all ~50 compression strategies exist and compile.

    3. Run a final grep across the entire UltimateCompression plugin for:
       - NotImplementedException
       - "TODO:" comments
       - "placeholder"
       - "simulation"
       - "mock"
       - "stub"
       Any found = fix immediately.

    4. Update TODO.md for all remaining T92.D items.

    5. Mark the parent T92 task status based on sub-task completion.

    6. Full solution build: `dotnet build DataWarehouse.slnx --no-restore`
  </action>
  <verify>
    Run: `dotnet build DataWarehouse.slnx --no-restore` -- must succeed
    All T92 items in TODO.md accurately reflect completion status
    Zero forbidden patterns in UltimateCompression plugin
  </verify>
  <done>
    All T92 (UltimateCompression) items verified and updated in TODO.md. Plugin is fully production-ready with 50+ compression strategies. Full solution builds cleanly.
  </done>
</task>

</tasks>

<verification>
- .csproj has ONLY DataWarehouse.SDK as ProjectReference
- Zero NotImplementedException in entire UltimateCompression plugin
- Zero simulation/placeholder/mock/stub code
- Deprecation notices documented for old plugins
- Full solution builds cleanly
- TODO.md T92 items all accurate
</verification>

<success_criteria>
UltimateCompression migration is verified. Plugin has SDK-only dependency. All 50+ compression strategies are production-ready. No forbidden patterns exist. All T92 items in TODO.md are accurate. Full solution builds.
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-infrastructure/02-10-SUMMARY.md`
</output>
