---
phase: 02-core-infrastructure
plan: 07
type: execute
wave: 4
depends_on: ["02-06"]
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateRAID/Features/RaidPluginMigration.cs
  - Plugins/DataWarehouse.Plugins.UltimateRAID/Features/GeoRaid.cs
  - Plugins/DataWarehouse.Plugins.UltimateRAID/Features/Deduplication.cs
  - Plugins/DataWarehouse.Plugins.UltimateRAID/Features/QuantumSafeIntegrity.cs
  - Plugins/DataWarehouse.Plugins.UltimateRAID/DataWarehouse.Plugins.UltimateRAID.csproj
  - Metadata/TODO.md
autonomous: true

must_haves:
  truths:
    - "Old RAID plugin configurations can be read and converted to UltimateRAID format without data loss"
    - "Deprecation notices (XML doc comments with [Obsolete] or equivalent) exist on old plugin entry points directing users to UltimateRAID"
    - "Backward compatibility: existing code using old RAID plugin APIs continues to work during transition period"
    - "Plugin .csproj references ONLY DataWarehouse.SDK -- no inter-plugin project references"
    - "Cross-plugin integrations (sharding, dedup) communicate exclusively via message bus"
    - "NOTE: 'Migration complete' means functional absorption + deprecation notices + backward compatibility. Actual file deletion of old plugins is deferred to Phase 18."
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateRAID/Features/RaidPluginMigration.cs"
      provides: "Migration from old RAID plugins to UltimateRAID"
    - path: "Plugins/DataWarehouse.Plugins.UltimateRAID/Features/GeoRaid.cs"
      provides: "Geographic RAID distribution"
    - path: "Plugins/DataWarehouse.Plugins.UltimateRAID/Features/Deduplication.cs"
      provides: "RAID-aware deduplication"
  key_links:
    - from: "RaidPluginMigration.cs"
      to: "old RAID plugins"
      via: "config migration and deprecation"
      pattern: "Migrate|Deprecat|OldConfig"
    - from: "DataWarehouse.Plugins.UltimateRAID.csproj"
      to: "DataWarehouse.SDK"
      via: "ProjectReference"
      pattern: "DataWarehouse\\.SDK"
---

<objective>
Verify and complete UltimateRAID migration (T91.I) and cross-plugin integrations (T91.J).

Purpose: Migration absorbs old standalone RAID plugins into the unified UltimateRAID. Cross-plugin integrations connect RAID with sharding, dedup, CLI, and dashboard via message bus. NOTE: "Migration complete" in this context means functional absorption, deprecation notices, and backward compatibility -- NOT file deletion (deferred to Phase 18).
Output: Verified migration tooling, SDK-only dependencies, and cross-plugin message bus integrations. TODO.md updated for T91.I and T91.J.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-infrastructure/02-RESEARCH.md
@Metadata/Incomplete Tasks.txt
@Metadata/TODO.md
@.planning/phases/02-core-infrastructure/02-06-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify migration and dependency isolation</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateRAID/Features/RaidPluginMigration.cs
    Plugins/DataWarehouse.Plugins.UltimateRAID/DataWarehouse.Plugins.UltimateRAID.csproj
  </files>
  <action>
    Verify T91.I (Migration) items:

    **91.I1 Plugin Migration** (functional absorption -- verify UltimateRAID covers all functionality):
    - 91.I1.2 Migrate StandardRaid (absorb functionality)
    - 91.I1.3 Migrate AdvancedRaid
    - 91.I1.4 Migrate EnhancedRaid
    - 91.I1.5 Migrate NestedRaid
    - 91.I1.6 Migrate SelfHealingRaid
    - 91.I1.7 Migrate ZfsRaid
    - 91.I1.8 Migrate VendorSpecificRaid
    - 91.I1.9 Migrate ExtendedRaid
    - 91.I1.10 Migrate AutoRaid
    - 91.I1.11 Migrate SharedRaidUtilities to SDK (GaloisField, ReedSolomon)
    - 91.I1.12 Migrate ErasureCoding

    **91.I2 Config Migration**:
    - 91.I2.1 Config migration tool (old format to new)
    - 91.I2.2 Array migration
    - 91.I2.3 Deprecation notices -- must exist as [Obsolete] attributes or XML doc comments
    - 91.I2.4 Backward compatibility -- old APIs must still work during transition

    **91.I4 Dependency Verification** (CRITICAL):
    - 91.I4.1 Verify SDK-only dependencies -- .csproj must ONLY reference DataWarehouse.SDK
    - 91.I4.2 Remove SharedRaidUtilities reference if present
    - 91.I4.3 Audit all imports -- no plugin-to-plugin references
    - 91.I4.4 CI/CD dependency check concept

    IMPORTANT: Mark T91.I1.x items as [x] if UltimateRAID functionally covers the old plugin's capabilities. Mark T92.D4-equivalent items (actual file deletion) as [ ] with note "Deferred to Phase 18".

    Read the .csproj file and verify no ProjectReference to any other plugin project exists.
  </action>
  <verify>
    Grep .csproj for ProjectReference -- must show only DataWarehouse.SDK
    Build: `dotnet build Plugins/DataWarehouse.Plugins.UltimateRAID/DataWarehouse.Plugins.UltimateRAID.csproj --no-restore`
  </verify>
  <done>
    Migration tooling verified. Plugin has SDK-only dependency. No inter-plugin references. Deprecation notices in place.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify cross-plugin integrations and future strategies, update TODO.md</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateRAID/Features/GeoRaid.cs
    Plugins/DataWarehouse.Plugins.UltimateRAID/Features/Deduplication.cs
    Plugins/DataWarehouse.Plugins.UltimateRAID/Features/QuantumSafeIntegrity.cs
    Metadata/TODO.md
  </files>
  <action>
    Verify T91.J (Cross-plugin and Future):

    **91.J0 Future Strategies** (all 20 items):
    These are clearly future/roadmap items but per Rule 13 they cannot be simulations. Verify they are either:
    a) Real implementations using existing capabilities, OR
    b) Not present in the code (and thus remain [ ] in TODO.md)
    Do NOT create placeholder implementations for future items.

    **91.J1 Sharding Integration**:
    - 91.J1.1 Sharding knowledge registration
    - 91.J1.2 RAID-aware sharding (shard placement respects topology)
    - 91.J1.3 Cross-shard RAID

    **91.J2 Dedup Integration**:
    - 91.J2.1 Dedup knowledge registration
    - 91.J2.2 RAID-aware dedup

    **91.J3 CLI/GUI/Dashboard**:
    - 91.J3.1 Update CLI RAID commands
    - 91.J3.2 Update GUI RAID page
    - 91.J3.3 Update Dashboard

    All cross-plugin communication MUST use message bus. Verify no direct references.

    Update TODO.md for all T91.I and T91.J items.
    Build: `dotnet build DataWarehouse.slnx --no-restore`
  </action>
  <verify>
    Run: `dotnet build DataWarehouse.slnx --no-restore` -- must succeed
    T91.I and T91.J items updated in TODO.md
  </verify>
  <done>
    Migration, cross-plugin integrations, and future strategy status all verified. TODO.md reflects actual state for all T91 items. Migration = functional absorption + deprecation, not file deletion.
  </done>
</task>

</tasks>

<verification>
- .csproj has ONLY DataWarehouse.SDK as ProjectReference
- Migration tooling handles old plugin configs
- Deprecation notices exist on old plugin entry points
- Cross-plugin integrations use message bus only
- Solution builds cleanly
- TODO.md T91.I and T91.J updated
</verification>

<success_criteria>
UltimateRAID migration means: (1) all old RAID plugin functionality is absorbed, (2) deprecation notices direct users to UltimateRAID, (3) backward compatibility maintained for transition period, (4) SDK-only dependency verified. Actual file deletion deferred to Phase 18. All T91 items in TODO.md are accurate.
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-infrastructure/02-07-SUMMARY.md`
</output>
