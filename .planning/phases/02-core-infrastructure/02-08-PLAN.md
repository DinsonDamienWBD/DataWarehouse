---
phase: 02-core-infrastructure
plan: 08
type: execute
wave: 2
depends_on: ["02-07"]
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/ContextMixing/*.cs
  - Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/EntropyCoding/*.cs
  - Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Delta/*.cs
  - Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Domain/*.cs
  - Metadata/TODO.md
autonomous: true

must_haves:
  truths:
    - "Extreme compression strategies (ZPAQ, PAQ, CMIX, NNZ, PPM, PPMd) implement real context-mixing algorithms"
    - "Entropy coding strategies (Huffman, Arithmetic, ANS, RANS, RLE) implement real coding algorithms"
    - "Differential strategies (Delta, Xdelta, Bsdiff, VCDIFF, Zdelta) implement real binary differencing"
    - "Media-specific strategies (FLAC, APNG, WebP, JXL, AVIF, DNA, TimeSeries) handle domain data"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/ContextMixing/ZpaqStrategy.cs"
      provides: "ZPAQ journaling archiver compression"
    - path: "Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/EntropyCoding/HuffmanStrategy.cs"
      provides: "Huffman coding compression"
    - path: "Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Delta/DeltaStrategy.cs"
      provides: "Delta encoding compression"
    - path: "Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Domain/FlacStrategy.cs"
      provides: "FLAC lossless audio compression"
  key_links:
    - from: "All strategies"
      to: "CompressionStrategyBase"
      via: "class inheritance"
      pattern: "CompressionStrategyBase"
---

<objective>
Verify and complete UltimateCompression extreme (T92.B4), entropy (T92.B5), differential (T92.B6), and media-specific (T92.B7) strategies.

Purpose: These 23 strategies cover specialized compression domains -- from maximum-ratio context mixing to domain-specific (audio, image, genomic, time-series) compression.
Output: Verified 23 additional compression strategies. TODO.md updated for T92.B4-B7.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-infrastructure/02-RESEARCH.md
@Metadata/Incomplete Tasks.txt
@Metadata/TODO.md
@.planning/phases/02-core-infrastructure/02-07-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify extreme compression and entropy coding strategies</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/ContextMixing/ZpaqStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/ContextMixing/PaqStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/ContextMixing/CmixStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/ContextMixing/NnzStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/ContextMixing/PpmStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/ContextMixing/PpmdStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/EntropyCoding/HuffmanStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/EntropyCoding/ArithmeticStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/EntropyCoding/AnsStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/EntropyCoding/RansStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/EntropyCoding/RleStrategy.cs
  </files>
  <action>
    Verify T92.B4 (Extreme) and T92.B5 (Entropy):

    **B4 Extreme Compression (Context Mixing)**:
    - B4.1 ZpaqStrategy -- journaling archiver with dedup
    - B4.2 PaqStrategy -- PAQ8 family context mixing
    - B4.3 CmixStrategy -- context-mixing compressor
    - B4.4 NnzStrategy -- neural network compression
    - B4.5 PpmStrategy -- Prediction by Partial Matching
    - B4.6 PpmdStrategy -- PPMd variant

    **B5 Entropy Coding**:
    - B5.1 HuffmanStrategy -- real Huffman tree construction and coding
    - B5.2 ArithmeticStrategy -- real arithmetic coding with precision handling
    - B5.3 AnsStrategy -- Asymmetric Numeral Systems (FSE)
    - B5.4 RansStrategy -- Range ANS
    - B5.5 RleStrategy -- Run-Length Encoding

    For each: verify inherits CompressionStrategyBase, CompressCore/DecompressCore have real algorithm implementations, Characteristics are accurate.

    Context mixing strategies are algorithmically complex. Verify they implement the core algorithm (even if simplified for performance) -- NOT simulation or placeholder logic.
    Huffman must build real frequency trees. Arithmetic must handle real interval subdivision. RLE must handle real run encoding.
  </action>
  <verify>
    Build: `dotnet build Plugins/DataWarehouse.Plugins.UltimateCompression/DataWarehouse.Plugins.UltimateCompression.csproj --no-restore`
    Grep for NotImplementedException, "simulation", "placeholder" in verified files
  </verify>
  <done>
    6 extreme and 5 entropy strategies verified with real algorithm implementations.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify differential and media-specific strategies, update TODO.md</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Delta/DeltaStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Delta/XdeltaStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Delta/BsdiffStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Delta/VcdiffStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Delta/ZdeltaStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Domain/FlacStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Domain/ApngStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Domain/WebpLosslessStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Domain/JxlLosslessStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Domain/AvifLosslessStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Domain/DnaCompressionStrategy.cs
    Plugins/DataWarehouse.Plugins.UltimateCompression/Strategies/Domain/TimeSeriesStrategy.cs
    Metadata/TODO.md
  </files>
  <action>
    Verify T92.B6 (Differential) and T92.B7 (Media-specific):

    **B6 Differential**:
    - B6.1 DeltaStrategy -- byte-level delta encoding
    - B6.2 XdeltaStrategy -- Xdelta3 binary diff
    - B6.3 BsdiffStrategy -- binary diff (suffix array based)
    - B6.4 VcdiffStrategy -- RFC 3284 VCDIFF
    - B6.5 ZdeltaStrategy -- Zdelta compression

    **B7 Media-specific**:
    - B7.1 FlacStrategy -- lossless audio (real FLAC encoding)
    - B7.2 ApngStrategy -- animated PNG
    - B7.3 WebpLosslessStrategy -- WebP lossless
    - B7.4 JxlLosslessStrategy -- JPEG XL lossless
    - B7.5 AvifLosslessStrategy -- AVIF lossless
    - B7.6 DnaCompressionStrategy -- genomic data compression
    - B7.7 TimeSeriesStrategy -- Gorilla-style time-series compression

    For differential strategies: verify real binary diff algorithms, not just byte subtraction.
    For media strategies: verify domain-specific compression techniques (FLAC uses LPC, TimeSeries uses delta-of-delta with XOR encoding, DNA uses base encoding).

    Fix gaps. Update TODO.md for B4-B7 items.
    Build: `dotnet build DataWarehouse.slnx --no-restore`
  </action>
  <verify>
    Run: `dotnet build DataWarehouse.slnx --no-restore` -- must succeed
    T92.B4, B5, B6, B7 items updated in TODO.md
  </verify>
  <done>
    23 strategies verified: 6 extreme, 5 entropy, 5 differential, 7 media-specific. All production-ready. TODO.md updated.
  </done>
</task>

</tasks>

<verification>
- All 23 strategies inherit CompressionStrategyBase
- Context mixing strategies implement real algorithm logic
- Huffman builds real frequency trees
- Delta strategies implement real binary differencing
- Media strategies use domain-specific techniques
- Solution builds cleanly
</verification>

<success_criteria>
All 23 specialized compression strategies (extreme, entropy, differential, media) are production-ready with real algorithm implementations. No simulation or placeholder code.
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-infrastructure/02-08-SUMMARY.md`
</output>
