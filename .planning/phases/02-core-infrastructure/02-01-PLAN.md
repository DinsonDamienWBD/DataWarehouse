---
phase: 02-core-infrastructure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - Plugins/DataWarehouse.Plugins.UltimateIntelligence/UltimateIntelligencePlugin.cs
  - Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/Providers/*.cs
  - Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/VectorStores/*.cs
  - Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/KnowledgeGraphs/*.cs
  - Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/Features/*.cs
  - Plugins/DataWarehouse.Plugins.UltimateIntelligence/KnowledgeSystem.cs
  - Metadata/TODO.md
autonomous: true

must_haves:
  truths:
    - "UniversalIntelligence plugin compiles without errors"
    - "All AI provider strategies (OpenAI, Claude, Azure, AWS, HuggingFace, Ollama) have production-ready implementations"
    - "All vector store strategies have real client integration code"
    - "Knowledge graph strategies have real graph operations"
    - "KnowledgeObject envelope system works with plugin message bus"
    - "No NotImplementedException, placeholder, or simulation code exists in any file"
  artifacts:
    - path: "Plugins/DataWarehouse.Plugins.UltimateIntelligence/UltimateIntelligencePlugin.cs"
      provides: "Plugin orchestrator with strategy discovery and message bus integration"
    - path: "Plugins/DataWarehouse.Plugins.UltimateIntelligence/KnowledgeSystem.cs"
      provides: "KnowledgeObject envelope management"
    - path: "Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/Providers/OpenAiProviderStrategy.cs"
      provides: "OpenAI AI provider strategy"
  key_links:
    - from: "UltimateIntelligencePlugin.cs"
      to: "SDK IntelligencePluginBase"
      via: "class inheritance"
      pattern: "IntelligencePluginBase"
    - from: "UltimateIntelligencePlugin.cs"
      to: "MessageBus"
      via: "message bus subscription"
      pattern: "MessageBus.*Subscribe"
---

<objective>
Verify and complete the UniversalIntelligence plugin (T90) -- all AI provider strategies, vector stores, knowledge graphs, features, and KnowledgeObject envelope integration.

Purpose: The Intelligence plugin is the AI backbone -- every other plugin can optionally leverage it for ML-enhanced features. It must be fully production-ready.
Output: Verified UltimateIntelligence plugin with all strategies confirmed production-ready. TODO.md updated for all T90 sub-tasks.
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-infrastructure/02-RESEARCH.md
@Metadata/Incomplete Tasks.txt
@Metadata/TODO.md
@Metadata/CLAUDE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify existing UniversalIntelligence implementation completeness</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/UltimateIntelligencePlugin.cs
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/Providers/*.cs
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/VectorStores/*.cs
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/KnowledgeGraphs/*.cs
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/Features/*.cs
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/KnowledgeSystem.cs
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/Strategies/Memory/*.cs
  </files>
  <action>
    Read `Metadata/Incomplete Tasks.txt` and identify all T90-related incomplete items.
    Then systematically verify EVERY file in the UltimateIntelligence plugin:

    1. **Plugin orchestrator** (UltimateIntelligencePlugin.cs): Verify it extends IntelligencePluginBase (or correct SDK base), has strategy auto-discovery, message bus subscriptions, capability registration, and lifecycle management. No NotImplementedException.

    2. **AI Provider strategies** (Strategies/Providers/): Verify each provider (OpenAI, Claude, Ollama, AzureOpenAI, AwsBedrock, HuggingFace, plus AdditionalProviders.cs) has real HTTP client integration, proper error handling, streaming support, and no simulation/mock code. Each must implement IAIProvider with real API calls.

    3. **Vector store strategies** (Strategies/VectorStores/): Verify Pinecone, Weaviate, Milvus/Qdrant/Chroma have real client SDK integration. Check for IVectorStore implementation, proper disposal, connection management.

    4. **Knowledge graph strategies** (Strategies/KnowledgeGraphs/): Verify Neo4j and other graph strategies have real graph operations (add node, add edge, traverse, find path).

    5. **Feature strategies** (Strategies/Features/): Verify SemanticSearch, ContentClassification, AnomalyDetection, AccessPrediction, PsychometricIndexing all have real implementations using AI providers.

    6. **KnowledgeSystem**: Verify KnowledgeObject creation, provenance tracking, temporal queries work correctly.

    7. **Memory subsystem** (Strategies/Memory/): Verify long-term memory, vector stores, embedding providers, persistence backends, regeneration strategies are all production-ready.

    For EACH file: grep for NotImplementedException, "TODO", "placeholder", "simulation", "mock", "stub", "fake". Any found = fix immediately with production code.

    CRITICAL: Do NOT add new NuGet package references to provider SDKs unless they are already in the .csproj. The strategies should use HTTP clients directly or have conditional compilation for SDK availability. Per Rule 13, no simulations -- but real HTTP client calls to provider APIs are acceptable as production implementations.
  </action>
  <verify>
    Run: `dotnet build Plugins/DataWarehouse.Plugins.UltimateIntelligence/DataWarehouse.Plugins.UltimateIntelligence.csproj --no-restore`
    Grep entire plugin directory for: NotImplementedException, "TODO:", "placeholder", "simulation", "mock", "stub"
    Both must pass (build succeeds, no forbidden patterns found).
  </verify>
  <done>
    All UltimateIntelligence strategies verified production-ready. Zero NotImplementedException. Zero simulation/placeholder code. Build succeeds.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix gaps and update TODO.md for T90</name>
  <files>
    Plugins/DataWarehouse.Plugins.UltimateIntelligence/**/*.cs
    Metadata/TODO.md
  </files>
  <action>
    Based on findings from Task 1:

    1. **Fix any gaps found**: If any strategy has NotImplementedException, placeholder logic, empty catch blocks, or incomplete implementations -- implement them fully. Follow the patterns from 02-RESEARCH.md (IAIProvider interface, IntelligenceStrategyBase, KnowledgeObject envelope).

    2. **Verify plugin isolation**: Check the .csproj file to ensure ONLY DataWarehouse.SDK is referenced as a ProjectReference. No other plugin references allowed.

    3. **Verify message bus integration**: Ensure all inter-plugin communication goes through MessageBus, not direct references.

    4. **Update TODO.md**: For every T90 sub-task that passes verification, change `[ ]` to `[x]` in Metadata/TODO.md. Use the line numbers from `Metadata/Incomplete Tasks.txt` to find the correct lines. Mark only items that are genuinely complete.

    5. **Build the full solution** to ensure no regressions: `dotnet build DataWarehouse.slnx --no-restore`
  </action>
  <verify>
    Run: `dotnet build DataWarehouse.slnx --no-restore` -- must succeed
    Verify TODO.md has been updated with [x] for completed T90 items
  </verify>
  <done>
    All T90 sub-tasks verified and marked in TODO.md. UltimateIntelligence plugin builds cleanly as part of the full solution. No inter-plugin references exist.
  </done>
</task>

</tasks>

<verification>
- `dotnet build Plugins/DataWarehouse.Plugins.UltimateIntelligence/DataWarehouse.Plugins.UltimateIntelligence.csproj --no-restore` succeeds
- `dotnet build DataWarehouse.slnx --no-restore` succeeds
- Zero instances of NotImplementedException in UltimateIntelligence plugin
- Zero instances of simulation/placeholder/mock/stub in production code
- TODO.md T90 items updated to reflect actual completion status
- Plugin .csproj references only DataWarehouse.SDK
</verification>

<success_criteria>
UniversalIntelligence plugin is fully production-ready with all AI provider strategies, vector stores, knowledge graphs, feature strategies, memory subsystem, and KnowledgeObject envelope. T90 items in TODO.md accurately reflect completion status.
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-infrastructure/02-01-SUMMARY.md`
</output>
