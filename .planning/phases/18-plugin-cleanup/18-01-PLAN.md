---
phase: 18-plugin-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/18-plugin-cleanup/18-01-VERIFICATION-LIST.md
autonomous: true

must_haves:
  truths:
    - "Every deprecated plugin directory on disk is identified and categorized"
    - "Every KEEP plugin is explicitly listed and excluded from deletion"
    - "The 88-plugin count from research is confirmed against actual filesystem state"
    - "All 66 slnx entries for deprecated plugins are confirmed present in DataWarehouse.slnx"
    - "All 22 deprecated plugins not in slnx are confirmed to exist on disk only"
  artifacts:
    - path: ".planning/phases/18-plugin-cleanup/18-01-VERIFICATION-LIST.md"
      provides: "Definitive deletion list with per-plugin verification status"
      contains: "DELETE_FROM_SLNX"
  key_links:
    - from: "18-01-VERIFICATION-LIST.md"
      to: "18-02-PLAN.md"
      via: "Deletion list consumed by Plan 02"
      pattern: "DELETE"
---

<objective>
Verify the complete inventory of deprecated plugins against the live filesystem and slnx file, producing a definitive deletion list that Plan 18-02 will execute against.

Purpose: The DEPRECATION-ANALYSIS.md (Phase 14-05) overcounts at 127+ plugins because it was written before prior cleanup phases. The 18-RESEARCH.md corrects this to 88 plugins. This plan confirms the 88-plugin count is still accurate at execution time and produces an authoritative, executor-ready list.

Output: 18-01-VERIFICATION-LIST.md with every plugin categorized as DELETE_FROM_SLNX (66), DELETE_DISK_ONLY (22), or KEEP (57).
</objective>

<execution_context>
@C:/Users/ddamien/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ddamien/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/18-plugin-cleanup/18-RESEARCH.md
@.planning/phases/18-plugin-cleanup/DEPRECATION-ANALYSIS.md
@DataWarehouse.slnx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify deprecated plugin inventory against filesystem and slnx</name>
  <files>.planning/phases/18-plugin-cleanup/18-01-VERIFICATION-LIST.md</files>
  <action>
1. List all directories under Plugins/ matching the pattern `DataWarehouse.Plugins.*` to get the live directory count. Compare against the expected 145 from research (or whatever the current count is).

2. Read DataWarehouse.slnx and extract all `<Project Path="Plugins/DataWarehouse.Plugins.*/..."` entries. Count them.

3. Cross-reference the 66 deprecated plugins listed in 18-RESEARCH.md "Deprecated Plugins on Disk AND in slnx" table against the actual slnx content. For each plugin, confirm:
   - The directory exists under Plugins/
   - A matching `<Project>` line exists in DataWarehouse.slnx

4. Cross-reference the 22 deprecated plugins listed in 18-RESEARCH.md "Deprecated Plugins on Disk but NOT in slnx" table. For each plugin, confirm:
   - The directory exists under Plugins/
   - NO matching `<Project>` line exists in DataWarehouse.slnx

5. Cross-reference the 13 KEEP standalone plugins listed in 18-RESEARCH.md. For each, confirm:
   - The directory exists under Plugins/
   - Note whether it is in slnx (11 are, 2 are not: AirGapBridge and DataMarketplace)

6. Confirm all Ultimate/Universal plugins (44) are present in slnx and on disk.

7. Produce the verification list document with three sections:
   - **DELETE_FROM_SLNX** (expected 66): Plugin name, slnx line confirmed, directory confirmed
   - **DELETE_DISK_ONLY** (expected 22): Plugin name, directory confirmed, not in slnx confirmed
   - **KEEP** (expected 57): Plugin name, type (standalone/ultimate/universal), in slnx status

8. If any discrepancy found (plugin missing from disk, extra plugin not in research list, etc.), document it clearly at the top of the verification list with resolution guidance.
  </action>
  <verify>
Run: `ls Plugins/ | wc -l` and compare against the verification list total.
Run: Count `<Project>` lines in slnx /Plugins/ folder and compare against DELETE_FROM_SLNX count + KEEP-in-slnx count.
The equation must hold: DELETE_FROM_SLNX(66) + DELETE_DISK_ONLY(22) + KEEP(57) = total directories on disk.
  </verify>
  <done>18-01-VERIFICATION-LIST.md exists with all plugins categorized. DELETE_FROM_SLNX count matches slnx deprecated entries. DELETE_DISK_ONLY count matches disk-only deprecated directories. KEEP count matches retained plugins. No unaccounted plugins remain.</done>
</task>

<task type="auto">
  <name>Task 2: Verify orphaned test files and Compile Remove entries</name>
  <files>.planning/phases/18-plugin-cleanup/18-01-VERIFICATION-LIST.md</files>
  <action>
1. Read DataWarehouse.Tests/DataWarehouse.Tests.csproj and extract all `<Compile Remove="...">` entries (expected 17).

2. For each Compile Remove entry, confirm the referenced .cs file actually exists on disk under DataWarehouse.Tests/.

3. Append a section to 18-01-VERIFICATION-LIST.md titled "## Orphaned Test Files" listing:
   - Each file path
   - Whether it exists on disk (YES/NO)
   - The corresponding `<Compile Remove>` line number in the csproj

4. Also check Plugin Readme.txt referenced in slnx (`<File Path="Plugin Readme.txt" />`). Confirm it exists and note it for review in Plan 18-03.

5. Add a summary section at the bottom of 18-01-VERIFICATION-LIST.md:
   ```
   ## Execution Summary for Plan 18-02
   - slnx entries to remove: N
   - Plugin directories to delete: N
   - Test files to delete: N
   - Compile Remove entries to clean: N
   ```
  </action>
  <verify>
Count of Compile Remove entries in DataWarehouse.Tests.csproj matches the count in the verification list.
Each listed test file path can be confirmed to exist or not exist on disk.
  </verify>
  <done>Verification list includes orphaned test files section with per-file existence check. Execution summary provides exact counts for Plan 18-02 to execute against.</done>
</task>

</tasks>

<verification>
- 18-01-VERIFICATION-LIST.md exists and is committed
- All 88 deprecated plugins accounted for (66 slnx + 22 disk-only)
- All 57 KEEP plugins accounted for (13 standalone + 44 ultimate/universal)
- No unclassified plugins remain
- Orphaned test file count verified
</verification>

<success_criteria>
A definitive, executor-ready deletion list exists that Plan 18-02 can consume without interpretation. Every plugin on disk is classified. Every slnx entry is accounted for.
</success_criteria>

<output>
After completion, create `.planning/phases/18-plugin-cleanup/18-01-SUMMARY.md`
</output>
