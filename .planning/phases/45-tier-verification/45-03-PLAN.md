---
phase: 45
plan: 45-03
title: "Tier 5-6 Verification (Regulated + Military)"
depends_on: ["45-02"]
---

# Plan 45-03: Tier 5-6 Verification (Regulated + Military)

## Goal
Verify that DataWarehouse operates correctly for Tier 5 (Regulated Industries) and Tier 6 (Military/Government) deployment scenarios using the **paranoid preset**. Confirm FIPS mode, HSM key operations, air-gap functionality, TamperProof chain integrity, compliance reporting, and zero-trust mutual TLS.

## Approach
1. Deploy DataWarehouse with `--preset paranoid` configuration
2. Execute Tier 5 regulated industry verification:
   - **FIPS mode**: Enable FIPS 140-2/140-3 compliance, verify only approved algorithms used
   - **HSM key operations**: Configure HSM (simulated or real), verify all encryption keys stored in HSM
   - **Compliance reports**: Generate HIPAA/GDPR/SOC2 audit reports
   - **TamperProof chain**: Write data, verify hash chain integrity, attempt tampering, confirm detection
   - **Data residency**: Configure geographic storage restrictions, verify enforcement
   - **Retention policies**: Set retention rules, verify auto-deletion after expiry
3. Execute Tier 6 military/government verification:
   - **Air-gap mode**: Disconnect all network interfaces, verify ALL features work (except remote replication)
   - **Zero-trust mutual TLS**: Configure mTLS for all inter-node communication, verify certificate validation
   - **Multi-level security (MLS)**: Create Top Secret, Secret, Unclassified tenants, verify no downward flow
   - **Secure deletion**: Delete data, verify cryptographic erasure (key destruction + overwrite)
   - **Offline updates**: Deploy patch bundle via USB, verify version upgrade without network
4. Test paranoid preset features:
   - All encryption at rest (data, metadata, logs)
   - All communication encrypted (TLS 1.3+, perfect forward secrecy)
   - Audit log immutability (append-only, signed)
   - No telemetry/phone-home
5. Capture compliance evidence and security logs

## Scope
**In Scope:**
- Tier 5: Regulated industries (healthcare, finance, legal)
- Tier 6: Military, government, defense
- Paranoid preset validation
- FIPS mode, HSM integration
- Air-gap operations
- TamperProof chain
- Zero-trust networking
- Compliance reporting

**Out of Scope:**
- Hyperscale features (Tier 7)
- Performance optimization (Phase 46)
- Penetration testing (Phase 47)
- Standard/god-tier presets

## Success Criteria
- [ ] Paranoid preset loads without errors
- [ ] FIPS mode enabled, only approved crypto algorithms used (verified via logs)
- [ ] HSM stores master keys, KEK operations succeed
- [ ] TamperProof chain detects tampering (modify byte in storage, verify detection)
- [ ] Compliance reports generated (HIPAA, GDPR, SOC2 formats)
- [ ] Air-gap mode: all features work WITHOUT network (write, read, Dashboard, CLI)
- [ ] Mutual TLS enforced: self-signed client certificate rejected
- [ ] Multi-level security: Top Secret tenant cannot read Secret data, Secret cannot read Unclassified
- [ ] Secure deletion: key destroyed, storage overwritten (verify with hex dump)
- [ ] Offline update: USB patch bundle upgrades version, system restarts successfully
- [ ] Audit log integrity verified (signatures valid, no modifications)
- [ ] Zero telemetry: network capture shows no outbound traffic to external IPs
- [ ] Zero critical errors in logs

## Output
- `45-03-verification-report.md`: Test results, FIPS validation, HSM evidence, air-gap proofs
- `45-03-tier5-tier6-evidence.zip`: Logs, config files, compliance reports, security audit trails
- Updated `.planning/phases/45-tier-verification/STATUS.md` with pass/fail results
